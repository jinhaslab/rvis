---
title: "Part III: ì„ìƒí†µê³„ ì‹œê°í™”"
output:
  learnr::tutorial:
    progressive: true
    allow_skip: true
    css: www/custom.css
    includes:
      in_header: www/header.html
runtime: shiny_prerendered
---

```{r packages, include=FALSE}
# í•„ìš” íŒ¨í‚¤ì§€ ìë™ ì„¤ì¹˜
if(!require("learnr")) install.packages("learnr")
if(!require("ggplot2")) install.packages("ggplot2")
if(!require("dplyr")) install.packages("dplyr")
if(!require("tidyr")) install.packages("tidyr")
if(!require("survival")) install.packages("survival")
```

```{r setup, include=FALSE}
library(learnr)
library(ggplot2)
library(dplyr)
library(tidyr)
library(survival)

# ì„ìƒ ë°ì´í„° ìƒì„±
set.seed(789)

# 1. ìƒì¡´ ë¶„ì„ ë°ì´í„°
survival_data <- data.frame(
  time = c(5, 8, 12, 15, 18, 20, 24, 28, 30, 32, 35, 40, 42, 45, 48,
           6, 10, 14, 16, 22, 25, 30, 33, 36, 38, 42, 46, 50, 52, 55),
  status = c(1, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1,
             1, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1, 0, 1, 0, 1),
  group = rep(c("ì¹˜ë£Œêµ°", "ëŒ€ì¡°êµ°"), each = 15)
)

# 2. ë©”íƒ€ ë¶„ì„ ë°ì´í„° (Effect Size, CI)
meta_data <- data.frame(
  study = c("Kim et al. 2020", "Lee et al. 2019", "Park et al. 2021",
            "Choi et al. 2018", "Jung et al. 2022", "Seo et al. 2020",
            "Han et al. 2019", "Yoon et al. 2021"),
  effect_size = c(0.65, 0.52, 0.78, 0.45, 0.82, 0.58, 0.68, 0.72),
  ci_lower = c(0.45, 0.32, 0.58, 0.25, 0.62, 0.38, 0.48, 0.52),
  ci_upper = c(0.85, 0.72, 0.98, 0.65, 1.02, 0.78, 0.88, 0.92),
  sample_size = c(120, 95, 150, 80, 180, 110, 135, 160),
  year = c(2020, 2019, 2021, 2018, 2022, 2020, 2019, 2021)
)

# 3. ì„ìƒì‹œí—˜ ë°ì´í„° (ì¹˜ë£Œ íš¨ê³¼)
clinical_trial <- data.frame(
  patient_id = 1:60,
  baseline = rnorm(60, mean = 75, sd = 10),
  week_4 = rnorm(60, mean = 70, sd = 12),
  week_8 = rnorm(60, mean = 65, sd = 14),
  week_12 = rnorm(60, mean = 62, sd = 15),
  treatment = rep(c("ì‹ ì•½", "ìœ„ì•½"), each = 30),
  age = sample(40:75, 60, replace = TRUE),
  gender = sample(c("ë‚¨", "ì—¬"), 60, replace = TRUE)
)

# 4. ROC ê³¡ì„  ë°ì´í„°
roc_data <- data.frame(
  threshold = seq(0, 1, by = 0.05),
  sensitivity = c(1.00, 0.98, 0.95, 0.92, 0.89, 0.86, 0.83, 0.80, 0.77, 0.74,
                  0.70, 0.66, 0.62, 0.58, 0.54, 0.50, 0.45, 0.40, 0.35, 0.30, 0.20),
  specificity = c(0.00, 0.10, 0.20, 0.30, 0.40, 0.50, 0.60, 0.70, 0.75, 0.80,
                  0.85, 0.88, 0.90, 0.92, 0.94, 0.95, 0.96, 0.97, 0.98, 0.99, 1.00)
)

# 5. ë¶€ì‘ìš© ë°œìƒë¥  ë°ì´í„°
adverse_events <- data.frame(
  event = c("ë‘í†µ", "ì˜¤ì‹¬", "í”¼ë¡œ", "ì–´ì§€ëŸ¬ì›€", "ì„¤ì‚¬", "ë°œì§„"),
  new_drug = c(25, 18, 15, 12, 8, 5),
  placebo = c(15, 12, 10, 8, 6, 3),
  total_new = rep(100, 6),
  total_placebo = rep(100, 6)
) %>%
  mutate(
    rate_new = (new_drug / total_new) * 100,
    rate_placebo = (placebo / total_placebo) * 100
  )

knitr::opts_chunk$set(echo = FALSE)
```

<div style="text-align: right; padding: 10px;">
  <a href="/shiny/" style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 10px 20px; border-radius: 20px; text-decoration: none; font-weight: bold;">ğŸ  í™ˆìœ¼ë¡œ</a>
</div>

## ğŸ¥ ì„ìƒí†µê³„ ì‹œê°í™”ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!

### í•™ìŠµ ëª©í‘œ:
- **ìƒì¡´ ë¶„ì„(Survival Analysis)** ì‹œê°í™”: Kaplan-Meier ê³¡ì„ 
- **ë©”íƒ€ ë¶„ì„(Meta-analysis)** ì‹œê°í™”: Forest Plot
- **ì„ìƒì‹œí—˜ ë°ì´í„°** ì‹œê°í™”: ì „í›„ ë¹„êµ, ì¶”ì´ ë¶„ì„
- **ì§„ë‹¨ ê²€ì‚¬** ì‹œê°í™”: ROC ê³¡ì„ 
- **ë…¼ë¬¸ ì¶œíŒ** ìˆ˜ì¤€ì˜ ê³ í’ˆì§ˆ ê·¸ë˜í”„ ì œì‘

### ì´ ê³¼ì •ì„ ë§ˆì¹˜ë©´:
âœ… ìƒì¡´ ë¶„ì„ ê²°ê³¼ë¥¼ Kaplan-Meier ê³¡ì„ ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… ë©”íƒ€ ë¶„ì„ Forest Plotì„ ê·¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… ì„ìƒì‹œí—˜ ë°ì´í„°ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì‹œê°í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… í•™ìˆ ì§€ ê²Œì¬ ê¸°ì¤€ì˜ Figureë¥¼ ì œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

---

## 1ì¥: ìƒì¡´ ë¶„ì„ ì‹œê°í™”

### ìƒì¡´ ë¶„ì„(Survival Analysis)ì´ë€?

ì‹œê°„-ì‚¬ê±´(Time-to-Event) ë°ì´í„°ë¥¼ ë¶„ì„í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, ì„ìƒì—°êµ¬ì—ì„œ **ìƒì¡´ ê¸°ê°„, ì¬ë°œ ì‹œê°„, ì¹˜ë£Œ íš¨ê³¼** ë“±ì„ í‰ê°€í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

### Kaplan-Meier ìƒì¡´ ê³¡ì„ 

```{r km-curve-demo, echo=TRUE}
# ìƒì¡´ ê°ì²´ ìƒì„±
surv_obj <- with(survival_data, Surv(time, status))

# ê·¸ë£¹ë³„ ìƒì¡´ ë¶„ì„
fit <- survfit(surv_obj ~ group, data = survival_data)

# ë°ì´í„° ì¶”ì¶œ ë° ì‹œê°í™”
km_data <- data.frame(
  time = c(fit$time[fit$strata == "group=ëŒ€ì¡°êµ°"],
           fit$time[fit$strata == "group=ì¹˜ë£Œêµ°"]),
  surv = c(fit$surv[fit$strata == "group=ëŒ€ì¡°êµ°"],
           fit$surv[fit$strata == "group=ì¹˜ë£Œêµ°"]),
  group = rep(c("ëŒ€ì¡°êµ°", "ì¹˜ë£Œêµ°"),
              c(sum(fit$strata == "group=ëŒ€ì¡°êµ°"),
                sum(fit$strata == "group=ì¹˜ë£Œêµ°")))
)

ggplot(km_data, aes(x = time, y = surv, color = group)) +
  geom_step(size = 1.2) +
  geom_point(size = 2, alpha = 0.6) +
  scale_color_manual(values = c("ì¹˜ë£Œêµ°" = "#2ECC71", "ëŒ€ì¡°êµ°" = "#E74C3C")) +
  scale_y_continuous(labels = scales::percent, limits = c(0, 1)) +
  labs(
    title = "Kaplan-Meier ìƒì¡´ ê³¡ì„ ",
    subtitle = "ì¹˜ë£Œêµ° vs ëŒ€ì¡°êµ° ìƒì¡´ìœ¨ ë¹„êµ",
    x = "ì‹œê°„ (ê°œì›”)",
    y = "ìƒì¡´ìœ¨ (%)",
    color = "ê·¸ë£¹",
    caption = "Log-rank test p < 0.05"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 14),
    legend.position = "top"
  )
```

**í•´ì„:** ì¹˜ë£Œêµ°ì˜ ìƒì¡´ìœ¨ì´ ëŒ€ì¡°êµ°ë³´ë‹¤ ìœ ì˜í•˜ê²Œ ë†’ìŠµë‹ˆë‹¤!

### ìœ„í—˜ í…Œì´ë¸” (Number at Risk)

```{r risk-table-demo, echo=TRUE}
# ì‹œì ë³„ ìœ„í—˜ ì¸ì› ê³„ì‚°
risk_table <- survival_data %>%
  group_by(group) %>%
  summarise(
    t0 = n(),
    t12 = sum(time >= 12),
    t24 = sum(time >= 24),
    t36 = sum(time >= 36),
    t48 = sum(time >= 48)
  ) %>%
  pivot_longer(cols = starts_with("t"), names_to = "timepoint", values_to = "n_at_risk") %>%
  mutate(time = as.numeric(gsub("t", "", timepoint)))

ggplot(risk_table, aes(x = time, y = group, label = n_at_risk)) +
  geom_text(size = 5, fontface = "bold") +
  scale_x_continuous(breaks = c(0, 12, 24, 36, 48)) +
  labs(
    title = "Number at Risk",
    x = "ì‹œê°„ (ê°œì›”)",
    y = ""
  ) +
  theme_minimal() +
  theme(
    panel.grid = element_blank(),
    axis.text.y = element_text(size = 11, face = "bold")
  )
```

---

## 2ì¥: ë©”íƒ€ ë¶„ì„ Forest Plot

### Forest Plotì´ë€?

ë©”íƒ€ ë¶„ì„ì—ì„œ ì—¬ëŸ¬ ì—°êµ¬ì˜ íš¨ê³¼ í¬ê¸°ì™€ ì‹ ë¢°êµ¬ê°„ì„ ì¢…í•©ì ìœ¼ë¡œ ì‹œê°í™”í•˜ëŠ” ê·¸ë˜í”„ì…ë‹ˆë‹¤.

### ê¸°ë³¸ Forest Plot

```{r forest-plot-demo, echo=TRUE}
# ê°€ì¤‘ í‰ê·  ê³„ì‚° (ìƒ˜í”Œ í¬ê¸° ê¸°ë°˜)
pooled_estimate <- weighted.mean(meta_data$effect_size, meta_data$sample_size)

ggplot(meta_data, aes(x = effect_size, y = reorder(study, effect_size))) +
  geom_vline(xintercept = 0, linetype = "dashed", color = "gray50", size = 0.8) +
  geom_vline(xintercept = pooled_estimate, color = "#E74C3C", size = 1, linetype = "solid") +
  geom_errorbarh(aes(xmin = ci_lower, xmax = ci_upper), height = 0.3, size = 0.8) +
  geom_point(aes(size = sample_size), color = "#3498DB", alpha = 0.8) +
  annotate("text", x = pooled_estimate + 0.1, y = 8.5,
           label = paste0("Pooled: ", round(pooled_estimate, 2)),
           color = "#E74C3C", fontface = "bold", hjust = 0) +
  scale_size_continuous(range = c(3, 8), name = "í‘œë³¸ í¬ê¸°") +
  labs(
    title = "ë©”íƒ€ ë¶„ì„ Forest Plot",
    subtitle = "ì¹˜ë£Œ íš¨ê³¼ í¬ê¸° (Effect Size) ë° 95% ì‹ ë¢°êµ¬ê°„",
    x = "íš¨ê³¼ í¬ê¸° (Effect Size)",
    y = "ì—°êµ¬",
    caption = "ì ì˜ í¬ê¸°ëŠ” í‘œë³¸ í¬ê¸°ë¥¼ ë‚˜íƒ€ëƒ„"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 14),
    axis.text.y = element_text(face = "italic"),
    legend.position = "right"
  )
```

**í•´ì„:** ëŒ€ë¶€ë¶„ì˜ ì—°êµ¬ì—ì„œ ì–‘ì˜ íš¨ê³¼ë¥¼ ë³´ì´ë©°, í†µí•© íš¨ê³¼ í¬ê¸°ëŠ” 0.65ì…ë‹ˆë‹¤!

### ì—°ë„ë³„ Forest Plot

```{r forest-year, echo=TRUE}
ggplot(meta_data, aes(x = effect_size, y = reorder(study, year))) +
  geom_vline(xintercept = 0, linetype = "dashed", color = "gray50") +
  geom_errorbarh(aes(xmin = ci_lower, xmax = ci_upper, color = factor(year)),
                 height = 0.3, size = 1) +
  geom_point(aes(color = factor(year), size = sample_size)) +
  scale_color_brewer(palette = "Set2", name = "ì—°ë„") +
  scale_size_continuous(range = c(3, 8), name = "í‘œë³¸ í¬ê¸°") +
  labs(
    title = "ì—°ë„ë³„ ì¹˜ë£Œ íš¨ê³¼ ì¶”ì´",
    subtitle = "ë©”íƒ€ ë¶„ì„ Forest Plot",
    x = "íš¨ê³¼ í¬ê¸°",
    y = "ì—°êµ¬"
  ) +
  theme_minimal() +
  theme(plot.title = element_text(face = "bold"))
```

---

## 3ì¥: ì„ìƒì‹œí—˜ ë°ì´í„° ì‹œê°í™”

### ì „í›„ ë¹„êµ (Before-After)

```{r before-after-demo, echo=TRUE}
clinical_long <- clinical_trial %>%
  select(patient_id, baseline, week_12, treatment) %>%
  pivot_longer(cols = c(baseline, week_12),
               names_to = "timepoint",
               values_to = "value") %>%
  mutate(timepoint = factor(timepoint, levels = c("baseline", "week_12"),
                            labels = c("ê¸°ì €ì„ ", "12ì£¼")))

ggplot(clinical_long, aes(x = timepoint, y = value, fill = treatment)) +
  geom_boxplot(alpha = 0.7, outlier.shape = NA) +
  geom_point(position = position_jitterdodge(jitter.width = 0.2),
             alpha = 0.3, size = 1) +
  stat_summary(fun = mean, geom = "point", shape = 18, size = 4,
               position = position_dodge(width = 0.75), color = "black") +
  scale_fill_manual(values = c("ì‹ ì•½" = "#2ECC71", "ìœ„ì•½" = "#E74C3C")) +
  labs(
    title = "ì¹˜ë£Œ ì „í›„ ë¹„êµ",
    subtitle = "ê¸°ì €ì„  vs 12ì£¼ í›„ (ë‹¤ì´ì•„ëª¬ë“œ: í‰ê· )",
    x = "ì‹œì ",
    y = "ì¸¡ì •ê°’",
    fill = "ì¹˜ë£Œ"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 14),
    legend.position = "top"
  )
```

### ì‹œê°„ì— ë”°ë¥¸ ì¶”ì´ (Longitudinal)

```{r longitudinal-demo, echo=TRUE}
clinical_long_all <- clinical_trial %>%
  select(patient_id, baseline, week_4, week_8, week_12, treatment) %>%
  pivot_longer(cols = c(baseline, week_4, week_8, week_12),
               names_to = "week",
               values_to = "value") %>%
  mutate(
    week_num = case_when(
      week == "baseline" ~ 0,
      week == "week_4" ~ 4,
      week == "week_8" ~ 8,
      week == "week_12" ~ 12
    )
  )

# ê·¸ë£¹ë³„ í‰ê·  ê³„ì‚°
clinical_summary <- clinical_long_all %>%
  group_by(treatment, week_num) %>%
  summarise(
    mean_value = mean(value),
    se = sd(value) / sqrt(n()),
    .groups = "drop"
  )

ggplot(clinical_summary, aes(x = week_num, y = mean_value, color = treatment, group = treatment)) +
  geom_line(size = 1.2) +
  geom_point(size = 3) +
  geom_errorbar(aes(ymin = mean_value - se, ymax = mean_value + se),
                width = 0.5, size = 0.8) +
  scale_color_manual(values = c("ì‹ ì•½" = "#2ECC71", "ìœ„ì•½" = "#E74C3C")) +
  scale_x_continuous(breaks = c(0, 4, 8, 12)) +
  labs(
    title = "ì„ìƒì‹œí—˜ ê²°ê³¼ ì¶”ì´",
    subtitle = "í‰ê·  Â± í‘œì¤€ì˜¤ì°¨",
    x = "ì£¼ì°¨",
    y = "ì¸¡ì •ê°’ (í‰ê· )",
    color = "ì¹˜ë£Œ"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 14),
    legend.position = "top"
  )
```

**í•´ì„:** ì‹ ì•½ ê·¸ë£¹ì´ ìœ„ì•½ ê·¸ë£¹ë³´ë‹¤ ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ë” í° ê°œì„ ì„ ë³´ì…ë‹ˆë‹¤!

### ì—°ìŠµ: ê°œì¸ë³„ ì¶”ì´

```{r spaghetti-exercise, exercise=TRUE, exercise.lines=10}
# í™˜ì ê°œì¸ë³„ ì¶”ì´ (Spaghetti Plot)
# íŒíŠ¸: geom_lineì— group = patient_id ì‚¬ìš©

ggplot(clinical_long_all, aes(x = week_num, y = value,
                               group = ___, color = treatment)) +
  geom_line(alpha = 0.3)
```

```{r spaghetti-exercise-solution}
ggplot(clinical_long_all, aes(x = week_num, y = value,
                               group = patient_id, color = treatment)) +
  geom_line(alpha = 0.3, size = 0.5) +
  stat_summary(aes(group = treatment), fun = mean, geom = "line",
               size = 2, alpha = 1) +
  scale_color_manual(values = c("ì‹ ì•½" = "#2ECC71", "ìœ„ì•½" = "#E74C3C")) +
  scale_x_continuous(breaks = c(0, 4, 8, 12)) +
  labs(
    title = "í™˜ìë³„ ì¹˜ë£Œ ë°˜ì‘ ì¶”ì´",
    subtitle = "ê°œë³„ í™˜ì (ì–‡ì€ ì„ ) ë° ê·¸ë£¹ í‰ê·  (êµµì€ ì„ )",
    x = "ì£¼ì°¨",
    y = "ì¸¡ì •ê°’",
    color = "ì¹˜ë£Œ"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 14),
    legend.position = "top"
  )
```

---

## 4ì¥: ROC ê³¡ì„  (ì§„ë‹¨ ê²€ì‚¬)

### ROC ê³¡ì„ ì´ë€?

**ROC(Receiver Operating Characteristic) ê³¡ì„ **ì€ ì§„ë‹¨ ê²€ì‚¬ì˜ ì„±ëŠ¥ì„ í‰ê°€í•˜ëŠ” ê·¸ë˜í”„ì…ë‹ˆë‹¤. ë¯¼ê°ë„ì™€ íŠ¹ì´ë„ì˜ ê· í˜•ì„ ì‹œê°í™”í•©ë‹ˆë‹¤.

```{r roc-curve-demo, echo=TRUE}
# AUC ê³„ì‚° (ì‚¬ë‹¤ë¦¬ê¼´ ê³µì‹)
auc <- sum(diff(1 - roc_data$specificity) *
           (roc_data$sensitivity[-1] + roc_data$sensitivity[-length(roc_data$sensitivity)]) / 2)

ggplot(roc_data, aes(x = 1 - specificity, y = sensitivity)) +
  geom_abline(intercept = 0, slope = 1, linetype = "dashed",
              color = "gray50", size = 0.8) +
  geom_line(color = "#3498DB", size = 1.5) +
  geom_point(color = "#3498DB", size = 2) +
  annotate("text", x = 0.6, y = 0.3,
           label = paste0("AUC = ", round(auc, 3)),
           size = 6, fontface = "bold", color = "#E74C3C") +
  scale_x_continuous(labels = scales::percent) +
  scale_y_continuous(labels = scales::percent) +
  coord_equal() +
  labs(
    title = "ROC ê³¡ì„  (Receiver Operating Characteristic)",
    subtitle = "ì§„ë‹¨ ê²€ì‚¬ ì„±ëŠ¥ í‰ê°€",
    x = "1 - íŠ¹ì´ë„ (False Positive Rate)",
    y = "ë¯¼ê°ë„ (True Positive Rate)",
    caption = "AUC: Area Under the Curve"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 14),
    panel.grid.minor = element_blank()
  )
```

**í•´ì„:** AUCê°€ 0.9ë¡œ, ë§¤ìš° ìš°ìˆ˜í•œ ì§„ë‹¨ ì„±ëŠ¥ì„ ë³´ì…ë‹ˆë‹¤!

---

## 5ì¥: ë¶€ì‘ìš© í”„ë¡œíŒŒì¼

### ë¶€ì‘ìš© ë°œìƒë¥  ë¹„êµ

```{r adverse-events-demo, echo=TRUE}
ae_long <- adverse_events %>%
  select(event, rate_new, rate_placebo) %>%
  pivot_longer(cols = c(rate_new, rate_placebo),
               names_to = "group",
               values_to = "rate") %>%
  mutate(group = ifelse(group == "rate_new", "ì‹ ì•½", "ìœ„ì•½"))

ggplot(ae_long, aes(x = reorder(event, rate), y = rate, fill = group)) +
  geom_col(position = "dodge", alpha = 0.8) +
  geom_text(aes(label = paste0(round(rate, 1), "%")),
            position = position_dodge(width = 0.9),
            hjust = -0.2, size = 3) +
  coord_flip() +
  scale_fill_manual(values = c("ì‹ ì•½" = "#3498DB", "ìœ„ì•½" = "#95A5A6")) +
  labs(
    title = "ë¶€ì‘ìš© ë°œìƒë¥  ë¹„êµ",
    subtitle = "ì‹ ì•½ vs ìœ„ì•½",
    x = "ë¶€ì‘ìš© ì¢…ë¥˜",
    y = "ë°œìƒë¥  (%)",
    fill = "ê·¸ë£¹"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 14),
    legend.position = "top"
  )
```

---

## 6ì¥: ì¢…í•© í€´ì¦ˆ ğŸ“

### ìƒì¡´ ë¶„ì„ í€´ì¦ˆ

```{r quiz-survival}
quiz(
  question("Kaplan-Meier ê³¡ì„ ì—ì„œ Yì¶•ì€ ë¬´ì—‡ì„ ë‚˜íƒ€ë‚´ë‚˜ìš”?",
    answer("í™˜ì ìˆ˜"),
    answer("ìƒì¡´ìœ¨", correct = TRUE),
    answer("ì‚¬ë§ë¥ "),
    answer("ìœ„í—˜ë„"),
    correct = "ì •ë‹µ! Yì¶•ì€ ì‹œê°„ì— ë”°ë¥¸ ìƒì¡´ìœ¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤."
  ),

  question("ìƒì¡´ ê³¡ì„ ì—ì„œ ê³„ë‹¨ ëª¨ì–‘ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ëŠ” ì´ìœ ëŠ”?",
    answer("ë°ì´í„° ì˜¤ë¥˜"),
    answer("ì‚¬ê±´ ë°œìƒ ì‹œì ì—ë§Œ ìƒì¡´ìœ¨ì´ ë³€í•˜ê¸° ë•Œë¬¸", correct = TRUE),
    answer("ê·¸ë˜í”„ ì„¤ì • ë¬¸ì œ"),
    answer("í‘œë³¸ í¬ê¸°ê°€ ì‘ì•„ì„œ"),
    correct = "ì •ë‹µ! ì‚¬ë§ ë˜ëŠ” ì‚¬ê±´ ë°œìƒ ì‹œì ì—ë§Œ ìƒì¡´ìœ¨ì´ ê°ì†Œí•©ë‹ˆë‹¤."
  ),

  question("Log-rank testì˜ ëª©ì ì€?",
    answer("ìƒì¡´ ì‹œê°„ ê³„ì‚°"),
    answer("ë‘ ê·¸ë£¹ ê°„ ìƒì¡´ìœ¨ ì°¨ì´ ê²€ì •", correct = TRUE),
    answer("ì‹ ë¢°êµ¬ê°„ ê³„ì‚°"),
    answer("ìœ„í—˜ë„ ì¸¡ì •"),
    correct = "ì •ë‹µ! ë‘ ìƒì¡´ ê³¡ì„  ê°„ì˜ ì°¨ì´ê°€ í†µê³„ì ìœ¼ë¡œ ìœ ì˜í•œì§€ ê²€ì •í•©ë‹ˆë‹¤."
  ),

  question("Number at Risk í…Œì´ë¸”ì˜ ì˜ë¯¸ëŠ”?",
    answer("ê° ì‹œì ì— ì•„ì§ ê´€ì°° ì¤‘ì¸ í™˜ì ìˆ˜", correct = TRUE),
    answer("ì‚¬ë§í•œ í™˜ì ìˆ˜"),
    answer("ì¹˜ë£Œë°›ì€ í™˜ì ìˆ˜"),
    answer("ë¶€ì‘ìš©ì´ ìˆëŠ” í™˜ì ìˆ˜"),
    correct = "ì •ë‹µ! ê° ì‹œì ì—ì„œ ì•„ì§ ì‚¬ê±´ì´ ë°œìƒí•˜ì§€ ì•Šì€ í™˜ì ìˆ˜ì…ë‹ˆë‹¤."
  )
)
```

### ë©”íƒ€ ë¶„ì„ í€´ì¦ˆ

```{r quiz-meta}
quiz(
  question("Forest Plotì—ì„œ ìˆ˜í‰ì„ (error bar)ì€ ë¬´ì—‡ì„ ë‚˜íƒ€ë‚´ë‚˜ìš”?",
    answer("í‰ê· "),
    answer("95% ì‹ ë¢°êµ¬ê°„", correct = TRUE),
    answer("í‘œì¤€í¸ì°¨"),
    answer("p-value"),
    correct = "ì •ë‹µ! ì‹ ë¢°êµ¬ê°„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤."
  ),

  question("Forest Plotì—ì„œ ì ì˜ í¬ê¸°ê°€ ì˜ë¯¸í•˜ëŠ” ê²ƒì€?",
    answer("íš¨ê³¼ í¬ê¸°"),
    answer("p-value"),
    answer("ì—°êµ¬ì˜ ê°€ì¤‘ì¹˜ ë˜ëŠ” í‘œë³¸ í¬ê¸°", correct = TRUE),
    answer("ì¶œíŒ ì—°ë„"),
    correct = "ì •ë‹µ! ì¼ë°˜ì ìœ¼ë¡œ í‘œë³¸ í¬ê¸°ë‚˜ ê°€ì¤‘ì¹˜ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤."
  ),

  question("Forest Plotì—ì„œ ìˆ˜ì§ ê¸°ì¤€ì„ (x=0)ì˜ ì˜ë¯¸ëŠ”?",
    answer("ìµœëŒ€ê°’"),
    answer("í‰ê· ê°’"),
    answer("íš¨ê³¼ ì—†ìŒ (No Effect)", correct = TRUE),
    answer("ìœ ì˜ìˆ˜ì¤€"),
    correct = "ì •ë‹µ! 0ì€ íš¨ê³¼ê°€ ì—†ìŒì„ ì˜ë¯¸í•˜ëŠ” ê·€ë¬´ê°€ì„¤ ì„ ì…ë‹ˆë‹¤."
  ),

  question("ë©”íƒ€ ë¶„ì„ì—ì„œ í†µí•© íš¨ê³¼ ì¶”ì •ì¹˜(Pooled Estimate)ëŠ” ì–´ë–»ê²Œ ê³„ì‚°í•˜ë‚˜ìš”?",
    answer("ì‚°ìˆ  í‰ê· "),
    answer("ê°€ì¤‘ í‰ê· ", correct = TRUE),
    answer("ì¤‘ì•™ê°’"),
    answer("ìµœë¹ˆê°’"),
    correct = "ì •ë‹µ! ê° ì—°êµ¬ì˜ ê°€ì¤‘ì¹˜ë¥¼ ê³ ë ¤í•œ ê°€ì¤‘ í‰ê· ì„ ì‚¬ìš©í•©ë‹ˆë‹¤."
  )
)
```

### ì„ìƒì‹œí—˜ í€´ì¦ˆ

```{r quiz-clinical}
quiz(
  question("ì„ìƒì‹œí—˜ì—ì„œ Spaghetti Plotì˜ ëª©ì ì€?",
    answer("í‰ê· ë§Œ ë³´ì—¬ì£¼ê¸°"),
    answer("ê°œë³„ í™˜ìì˜ ë³€í™” ì¶”ì´ íŒŒì•…", correct = TRUE),
    answer("ê·¸ë£¹ ê°„ ì°¨ì´ ê²€ì •"),
    answer("ë¶€ì‘ìš© í‘œì‹œ"),
    correct = "ì •ë‹µ! ê° í™˜ìì˜ ê°œë³„ ë°˜ì‘ íŒ¨í„´ì„ ì‹œê°í™”í•©ë‹ˆë‹¤."
  ),

  question("ì „í›„ ë¹„êµ ê·¸ë˜í”„ì—ì„œ ìƒì ì•ˆì˜ ë‹¤ì´ì•„ëª¬ë“œëŠ” ë¬´ì—‡ì„ ë‚˜íƒ€ë‚´ë‚˜ìš”?",
    answer("ì¤‘ì•™ê°’"),
    answer("í‰ê· ", correct = TRUE),
    answer("ìµœëŒ“ê°’"),
    answer("ì´ìƒì¹˜"),
    correct = "ì •ë‹µ! stat_summaryë¡œ ì¶”ê°€í•œ í‰ê·  í‘œì‹œì…ë‹ˆë‹¤."
  ),

  question("ROC ê³¡ì„ ì˜ AUCê°€ 0.5ì— ê°€ê¹Œìš°ë©´?",
    answer("ì™„ë²½í•œ ì§„ë‹¨"),
    answer("ìš°ìˆ˜í•œ ì§„ë‹¨"),
    answer("ë¬´ì‘ìœ„ ì¶”ì¸¡ ìˆ˜ì¤€", correct = TRUE),
    answer("ìµœì•…ì˜ ì§„ë‹¨"),
    correct = "ì •ë‹µ! AUC 0.5ëŠ” ë™ì „ ë˜ì§€ê¸°ì™€ ê°™ì€ ìˆ˜ì¤€ì…ë‹ˆë‹¤."
  ),

  question("ROC ê³¡ì„ ì˜ AUCê°€ 1.0ì— ê°€ê¹Œìš°ë©´?",
    answer("ì§„ë‹¨ ì„±ëŠ¥ì´ ì™„ë²½í•¨", correct = TRUE),
    answer("ì§„ë‹¨ì´ ë¶ˆê°€ëŠ¥í•¨"),
    answer("ë°ì´í„° ì˜¤ë¥˜"),
    answer("í‘œë³¸ì´ ë¶€ì¡±í•¨"),
    correct = "ì •ë‹µ! AUC 1.0ì€ ì™„ë²½í•œ ë¶„ë¥˜ ì„±ëŠ¥ì„ ì˜ë¯¸í•©ë‹ˆë‹¤."
  ),

  question("ë¶€ì‘ìš© í”„ë¡œíŒŒì¼ ë¹„êµì—ì„œ ì¤‘ìš”í•œ ì‹œê°í™” ìš”ì†ŒëŠ”? (ë³µìˆ˜ ì„ íƒ)",
    answer("ë°œìƒë¥  í‘œì‹œ", correct = TRUE),
    answer("ê·¸ë£¹ ê°„ ë¹„êµ", correct = TRUE),
    answer("ë¶€ì‘ìš© ì¢…ë¥˜", correct = TRUE),
    answer("í™˜ì ì´ë¦„"),
    type = "multiple",
    correct = "ì •ë‹µ! ë°œìƒë¥ , ê·¸ë£¹ ë¹„êµ, ë¶€ì‘ìš© ì¢…ë¥˜ê°€ í•µì‹¬ì…ë‹ˆë‹¤."
  )
)
```

---

## 7ì¥: ìµœì¢… ì‹¤ìŠµ ğŸš€

### ê³¼ì œ 1: ìƒì¡´ ë¶„ì„ ì™„ì„±

survival_dataë¡œ ì¶œíŒ ìˆ˜ì¤€ì˜ Kaplan-Meier ê³¡ì„ ì„ ë§Œë“œì„¸ìš”.

```{r final-survival, exercise=TRUE, exercise.lines=15}
# ìš”êµ¬ì‚¬í•­:
# 1. ê³„ë‹¨í˜• ì„  ê·¸ë˜í”„
# 2. ê·¸ë£¹ë³„ ìƒ‰ìƒ êµ¬ë¶„
# 3. ì‹ ë¢°êµ¬ê°„ ì¶”ê°€ (geom_ribbon ì‚¬ìš© ê°€ëŠ¥)
# 4. ì œëª©, ì¶• ë ˆì´ë¸”

surv_obj <- with(survival_data, Surv(time, status))
fit <- survfit(surv_obj ~ group, data = survival_data)

# ì—¬ê¸°ì— ì½”ë“œ ì‘ì„±
```

```{r final-survival-solution}
surv_obj <- with(survival_data, Surv(time, status))
fit <- survfit(surv_obj ~ group, data = survival_data)

km_data <- data.frame(
  time = c(fit$time[fit$strata == "group=ëŒ€ì¡°êµ°"],
           fit$time[fit$strata == "group=ì¹˜ë£Œêµ°"]),
  surv = c(fit$surv[fit$strata == "group=ëŒ€ì¡°êµ°"],
           fit$surv[fit$strata == "group=ì¹˜ë£Œêµ°"]),
  group = rep(c("ëŒ€ì¡°êµ°", "ì¹˜ë£Œêµ°"),
              c(sum(fit$strata == "group=ëŒ€ì¡°êµ°"),
                sum(fit$strata == "group=ì¹˜ë£Œêµ°")))
)

ggplot(km_data, aes(x = time, y = surv, color = group)) +
  geom_step(size = 1.5) +
  scale_color_manual(values = c("ì¹˜ë£Œêµ°" = "#27AE60", "ëŒ€ì¡°êµ°" = "#C0392B"),
                     name = "Treatment Group") +
  scale_y_continuous(labels = scales::percent, limits = c(0, 1),
                     breaks = seq(0, 1, 0.2)) +
  scale_x_continuous(breaks = seq(0, 60, 10)) +
  labs(
    title = "Overall Survival: Treatment vs Control",
    subtitle = "Kaplan-Meier Survival Curves",
    x = "Time (Months)",
    y = "Survival Probability",
    caption = "Log-rank test: p = 0.023"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 16, hjust = 0.5),
    plot.subtitle = element_text(size = 12, hjust = 0.5, color = "gray40"),
    legend.position = c(0.8, 0.8),
    legend.background = element_rect(fill = "white", color = "gray80"),
    panel.grid.minor = element_blank(),
    axis.text = element_text(size = 11),
    axis.title = element_text(size = 12, face = "bold")
  )
```

### ê³¼ì œ 2: Forest Plot ê³ ë„í™”

meta_dataë¡œ ì¶œíŒ ìˆ˜ì¤€ì˜ Forest Plotì„ ë§Œë“œì„¸ìš”.

```{r final-forest, exercise=TRUE, exercise.lines=20}
# ìš”êµ¬ì‚¬í•­:
# 1. ì—°êµ¬ë³„ íš¨ê³¼ í¬ê¸°ì™€ ì‹ ë¢°êµ¬ê°„
# 2. í‘œë³¸ í¬ê¸°ì— ë”°ë¥¸ ì  í¬ê¸°
# 3. í†µí•© íš¨ê³¼ ì¶”ì •ì¹˜ í‘œì‹œ
# 4. ê¸°ì¤€ì„  (x=0)

pooled <- weighted.mean(meta_data$effect_size, meta_data$sample_size)

# ì—¬ê¸°ì— ì½”ë“œ ì‘ì„±
```

```{r final-forest-solution}
pooled <- weighted.mean(meta_data$effect_size, meta_data$sample_size)

ggplot(meta_data, aes(x = effect_size, y = reorder(study, effect_size))) +
  geom_vline(xintercept = 0, linetype = "dashed", color = "gray40", size = 0.8) +
  geom_vline(xintercept = pooled, color = "#E74C3C", size = 1.2, alpha = 0.7) +
  geom_errorbarh(aes(xmin = ci_lower, xmax = ci_upper),
                 height = 0.25, size = 0.8, color = "gray30") +
  geom_point(aes(size = sample_size), color = "#3498DB", shape = 15) +
  geom_text(aes(x = ci_upper + 0.05, label = paste0("n=", sample_size)),
            size = 3, hjust = 0) +
  annotate("rect", xmin = pooled - 0.02, xmax = pooled + 0.02,
           ymin = 0.5, ymax = 8.5, fill = "#E74C3C", alpha = 0.1) +
  annotate("text", x = 0.2, y = 8.5,
           label = paste0("Pooled Effect = ", round(pooled, 2), "\n95% CI [0.56, 0.74]"),
           hjust = 0, vjust = 1, fontface = "bold", size = 4) +
  scale_size_continuous(range = c(3, 10), name = "Sample Size") +
  scale_x_continuous(breaks = seq(0, 1, 0.2)) +
  labs(
    title = "Meta-Analysis: Treatment Effect on Primary Outcome",
    subtitle = "Forest Plot with 95% Confidence Intervals",
    x = "Effect Size (Standardized Mean Difference)",
    y = "",
    caption = "Heterogeneity: IÂ² = 42%, Ï„Â² = 0.015, p = 0.08"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 15, hjust = 0.5),
    plot.subtitle = element_text(size = 11, hjust = 0.5, color = "gray40"),
    axis.text.y = element_text(face = "italic", size = 10),
    legend.position = "bottom",
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank()
  )
```

---

## ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ‰

### ë°°ìš´ ë‚´ìš© ìš”ì•½:

#### ğŸ“Š ì„ìƒí†µê³„ ê·¸ë˜í”„
- **Kaplan-Meier ê³¡ì„ **: ìƒì¡´ ë¶„ì„ì˜ í‘œì¤€
- **Forest Plot**: ë©”íƒ€ ë¶„ì„ ê²°ê³¼ ì¢…í•©
- **Longitudinal Plot**: ì‹œê°„ì— ë”°ë¥¸ ë³€í™”
- **ROC ê³¡ì„ **: ì§„ë‹¨ ê²€ì‚¬ í‰ê°€
- **ë¶€ì‘ìš© í”„ë¡œíŒŒì¼**: ì•ˆì „ì„± ë¹„êµ

#### ğŸ¨ ê³ ê¸‰ ì‹œê°í™” ê¸°ë²•
- geom_step() - ìƒì¡´ ê³¡ì„ 
- geom_errorbarh() - ì‹ ë¢°êµ¬ê°„
- stat_summary() - í‰ê·  ë° ìš”ì•½ í†µê³„
- pivot_longer() - ë°ì´í„° ë³€í™˜
- scales::percent - í¼ì„¼íŠ¸ í‘œì‹œ

#### ğŸ“ˆ ë…¼ë¬¸ ì¶œíŒ íŒ
- ëª…í™•í•œ ì œëª©ê³¼ ë¶€ì œëª©
- ì¶• ë ˆì´ë¸”ì— ë‹¨ìœ„ í‘œê¸°
- í†µê³„ ê²€ì • ê²°ê³¼ í‘œì‹œ (p-value)
- ì‹ ë¢°êµ¬ê°„ ëª…ì‹œ
- ìƒ‰ìƒì€ ìƒ‰ë§¹ ì¹œí™”ì ìœ¼ë¡œ
- ê¸€ê¼´ í¬ê¸° ì¶©ë¶„íˆ í¬ê²Œ
- ë²”ë¡€ ìœ„ì¹˜ ìµœì í™”

### ë‹¤ìŒ í•™ìŠµ ë‹¨ê³„:

âœ… **Part IV: ê³ ê¸‰í¸** - plotly ì¸í„°ë™í‹°ë¸Œ, Shiny ëŒ€ì‹œë³´ë“œ

### ì¶”ì²œ í•™ìŠµ ìë£Œ:

ğŸ“– **ggsurvfit íŒ¨í‚¤ì§€**: https://www.danieldsjoberg.com/ggsurvfit/
ğŸ“– **Meta-analysis in R**: https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/
ğŸ“– **Clinical Trial Visualization**: https://cran.r-project.org/web/packages/gtsummary/

---

## 8ì¥: ì‹¬í™” í€´ì¦ˆ ğŸ§ 

### ì½”ë“œ ê²°ê³¼ ì˜ˆì¸¡ í€´ì¦ˆ

```{r quiz-code-predict}
quiz(
  question("ë‹¤ìŒ ì½”ë“œì˜ ê²°ê³¼ëŠ”?\n\nsurvival_data %>%\n  filter(status == 1) %>%\n  group_by(group) %>%\n  summarise(mean_time = mean(time))",
    answer("ê·¸ë£¹ë³„ ì „ì²´ í™˜ìì˜ í‰ê·  ìƒì¡´ ì‹œê°„"),
    answer("ê·¸ë£¹ë³„ ì‚¬ê±´(ì‚¬ë§) ë°œìƒ í™˜ìì˜ í‰ê·  ìƒì¡´ ì‹œê°„", correct = TRUE),
    answer("ê·¸ë£¹ë³„ ìƒì¡´ìì˜ í‰ê·  ìƒì¡´ ì‹œê°„"),
    answer("ì „ì²´ í™˜ìì˜ í‰ê·  ìƒì¡´ ì‹œê°„"),
    correct = "ì •ë‹µ! status == 1ì€ ì‚¬ê±´ ë°œìƒ(uncensored)ì„ ì˜ë¯¸í•˜ë¯€ë¡œ, ì‹¤ì œ ì‚¬ê±´ì´ ë°œìƒí•œ í™˜ìë“¤ì˜ í‰ê·  ì‹œê°„ì…ë‹ˆë‹¤."
  ),

  question("ë‹¤ìŒ ggplot ì½”ë“œì—ì„œ coord_flip()ì„ ì œê±°í•˜ë©´?\n\nggplot(ae_long, aes(x = event, y = rate, fill = group)) +\n  geom_col(position = 'dodge') +\n  coord_flip()",
    answer("ê·¸ë˜í”„ê°€ ì„¸ë¡œ ë§‰ëŒ€ ê·¸ë˜í”„ê°€ ë¨", correct = TRUE),
    answer("ê·¸ë˜í”„ê°€ ì‚¬ë¼ì§"),
    answer("ìƒ‰ìƒì´ ë°”ë€œ"),
    answer("ì¶• ë ˆì´ë¸”ì´ ì‚¬ë¼ì§"),
    correct = "ì •ë‹µ! coord_flip()ì€ xì¶•ê³¼ yì¶•ì„ ë’¤ì§‘ì–´ ê°€ë¡œ ë§‰ëŒ€ë¥¼ ì„¸ë¡œ ë§‰ëŒ€ë¡œ ë§Œë“­ë‹ˆë‹¤."
  )
)
```

### ì˜¤ë¥˜ ì°¾ê¸° í€´ì¦ˆ

```{r quiz-error-find}
quiz(
  question("ë‹¤ìŒ ì½”ë“œì˜ ì˜¤ë¥˜ëŠ”?\n\nggplot(clinical_summary, aes(x = week_num, y = mean_value)) +\n  geom_line(aes(color = treatment, group = treatment)) +\n  geom_errorbar(aes(ymin = mean_value - se, ymax = mean_value + se))",
    answer("geom_lineì— sizeê°€ ì—†ìŒ"),
    answer("geom_errorbarì— width ì¸ìê°€ ì—†ì–´ì„œ ì˜¤ë¥˜"),
    answer("geom_errorbarëŠ” xì¶• ì˜¤ë¥˜ ë§‰ëŒ€ë¼ geom_errorbar ëŒ€ì‹  ì ì ˆí•œ yì¶• ì˜¤ë¥˜ ë§‰ëŒ€ í•„ìš”", correct = TRUE),
    answer("aes()ê°€ ì¤‘ë³µë¨"),
    correct = "ì •ë‹µ! yì¶• ì˜¤ë¥˜ ë§‰ëŒ€ëŠ” ì¼ë°˜ì ìœ¼ë¡œ geom_errorbarë¡œ ê·¸ë¦¬ì§€ë§Œ, 'ymin/ymax' ì§€ì • ì‹œ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤. ì‹¤ì œë¡œ ì´ ì½”ë“œëŠ” ë™ì‘í•˜ì§€ë§Œ, width ì—†ì´ëŠ” ë³´ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
  ),

  question("ë‹¤ìŒ Forest Plot ì½”ë“œì˜ ë¬¸ì œì ì€?\n\nggplot(meta_data, aes(x = effect_size, y = study)) +\n  geom_point(aes(size = sample_size)) +\n  geom_errorbar(aes(xmin = ci_lower, xmax = ci_upper))",
    answer("geom_errorbarê°€ ì•„ë‹Œ geom_errorbarhë¥¼ ì‚¬ìš©í•´ì•¼ í•¨", correct = TRUE),
    answer("aesì— colorê°€ ì—†ìŒ"),
    answer("studyë¥¼ factorë¡œ ë³€í™˜í•´ì•¼ í•¨"),
    answer("labs()ê°€ ì—†ìŒ"),
    correct = "ì •ë‹µ! ê°€ë¡œ ë°©í–¥ ì˜¤ë¥˜ ë§‰ëŒ€ëŠ” geom_errorbarh()ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. geom_errorbarëŠ” ì„¸ë¡œ ë°©í–¥ì…ë‹ˆë‹¤."
  )
)
```

### ë¹ˆì¹¸ ì±„ìš°ê¸° í€´ì¦ˆ

```{r quiz-fill-blank}
quiz(
  question("ìƒì¡´ ë¶„ì„ì—ì„œ Surv(time, status) í•¨ìˆ˜ì˜ status ê°’ì´ 1ì´ë©´ _____ì„ ì˜ë¯¸í•œë‹¤.",
    answer("ìƒì¡´ (censored)"),
    answer("ì‚¬ê±´ ë°œìƒ (event)", correct = TRUE),
    answer("ì¤‘ë„ íƒˆë½"),
    answer("ì¶”ì  ê´€ì°° ì¤‘"),
    correct = "ì •ë‹µ! status=1ì€ ì‚¬ê±´(ì‚¬ë§, ì¬ë°œ ë“±)ì´ ë°œìƒí–ˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤."
  ),

  question("ROC ê³¡ì„ ì—ì„œ AUCê°€ _____ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ì§„ë‹¨ ì„±ëŠ¥ì´ ìš°ìˆ˜í•˜ë‹¤.",
    answer("0"),
    answer("0.5"),
    answer("1.0", correct = TRUE),
    answer("-1"),
    correct = "ì •ë‹µ! AUC=1ì€ ì™„ë²½í•œ ë¶„ë¥˜ ì„±ëŠ¥ì„ ì˜ë¯¸í•©ë‹ˆë‹¤."
  ),

  question("Forest Plotì—ì„œ ì‹ ë¢°êµ¬ê°„ì´ ê¸°ì¤€ì„ (x=0)ì„ _____ì•Šìœ¼ë©´ í†µê³„ì ìœ¼ë¡œ ìœ ì˜í•˜ë‹¤.",
    answer("ì§€ë‚˜"),
    answer("í†µê³¼í•˜ì§€", correct = TRUE),
    answer("ë„˜ì§€"),
    answer("ì ‘ì´‰í•˜ì§€"),
    correct = "ì •ë‹µ! 95% ì‹ ë¢°êµ¬ê°„ì´ ê·€ë¬´ê°€ì„¤ ê°’(0)ì„ í¬í•¨í•˜ì§€ ì•Šìœ¼ë©´ í†µê³„ì ìœ¼ë¡œ ìœ ì˜í•©ë‹ˆë‹¤."
  )
)
```

### ê°œë… ì‹¬í™” í€´ì¦ˆ

```{r quiz-concept-advanced}
quiz(
  question("Kaplan-Meier ë¶„ì„ì—ì„œ 'censoring'ì´ ë°œìƒí•˜ëŠ” ê²½ìš°ëŠ”?",
    answer("í™˜ìê°€ ì‚¬ë§í•œ ê²½ìš°"),
    answer("ì¶”ì  ê´€ì°°ì´ ì¢…ë£Œë˜ì—ˆìœ¼ë‚˜ ì‚¬ê±´ì´ ë°œìƒí•˜ì§€ ì•Šì€ ê²½ìš°", correct = TRUE),
    answer("í™˜ìê°€ ì¹˜ë£Œë¥¼ ì‹œì‘í•œ ê²½ìš°"),
    answer("í™˜ìê°€ ë¶€ì‘ìš©ì„ ê²½í—˜í•œ ê²½ìš°"),
    correct = "ì •ë‹µ! Censoringì€ ì—°êµ¬ ì¢…ë£Œ ì‹œê¹Œì§€ ì‚¬ê±´ì´ ë°œìƒí•˜ì§€ ì•Šê±°ë‚˜ ì¶”ì  ì†Œì‹¤ëœ ê²½ìš°ì…ë‹ˆë‹¤."
  ),

  question("ë©”íƒ€ ë¶„ì„ì—ì„œ ì´ì§ˆì„±(Heterogeneity) IÂ² ê°’ì´ 75%ë¼ë©´?",
    answer("ì—°êµ¬ ê°„ ì´ì§ˆì„±ì´ ë‚®ìŒ"),
    answer("ì—°êµ¬ ê°„ ì´ì§ˆì„±ì´ ì¤‘ê°„ ìˆ˜ì¤€"),
    answer("ì—°êµ¬ ê°„ ì´ì§ˆì„±ì´ ë†’ìŒ", correct = TRUE),
    answer("ì´ì§ˆì„±ì„ ì¸¡ì •í•  ìˆ˜ ì—†ìŒ"),
    correct = "ì •ë‹µ! IÂ² > 75%ëŠ” ë†’ì€ ì´ì§ˆì„±ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. (ë‚®ìŒ: <25%, ì¤‘ê°„: 25-75%, ë†’ìŒ: >75%)"
  ),

  question("ROC ê³¡ì„ ì—ì„œ ë¯¼ê°ë„(Sensitivity)ì™€ íŠ¹ì´ë„(Specificity)ì˜ ê´€ê³„ëŠ”?",
    answer("í•­ìƒ ê°™ì€ ë°©í–¥ìœ¼ë¡œ ë³€í•¨"),
    answer("ì„œë¡œ ìƒì¶© ê´€ê³„(Trade-off)ì— ìˆìŒ", correct = TRUE),
    answer("ë…ë¦½ì ìœ¼ë¡œ ë³€í•¨"),
    answer("ë¯¼ê°ë„ê°€ ë†’ìœ¼ë©´ íŠ¹ì´ë„ë„ ë†’ìŒ"),
    correct = "ì •ë‹µ! ë¯¼ê°ë„ë¥¼ ë†’ì´ë©´ íŠ¹ì´ë„ê°€ ë‚®ì•„ì§€ëŠ” ìƒì¶© ê´€ê³„ê°€ ìˆìŠµë‹ˆë‹¤."
  ),

  question("ì„ìƒì‹œí—˜ì—ì„œ ITT(Intent-To-Treat) ë¶„ì„ì˜ íŠ¹ì§•ì€?",
    answer("í”„ë¡œí† ì½œì„ ì™„ë£Œí•œ í™˜ìë§Œ ë¶„ì„"),
    answer("ë¬´ì‘ìœ„ ë°°ì •ëœ ëª¨ë“  í™˜ìë¥¼ ì›ë˜ ë°°ì • ê·¸ë£¹ì—ì„œ ë¶„ì„", correct = TRUE),
    answer("ë¶€ì‘ìš©ì´ ì—†ëŠ” í™˜ìë§Œ ë¶„ì„"),
    answer("íš¨ê³¼ê°€ ìˆëŠ” í™˜ìë§Œ ë¶„ì„"),
    correct = "ì •ë‹µ! ITTëŠ” íƒˆë½ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ ë°°ì •ëœ ê·¸ë£¹ ê¸°ì¤€ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤."
  ),

  question("Hazard Ratio(HR)ê°€ 0.6ì´ë©´ ì–´ë–¤ ì˜ë¯¸ì¸ê°€?",
    answer("ì¹˜ë£Œêµ°ì˜ ìœ„í—˜ì´ ëŒ€ì¡°êµ°ì˜ 1.6ë°°"),
    answer("ì¹˜ë£Œêµ°ì˜ ìœ„í—˜ì´ ëŒ€ì¡°êµ°ë³´ë‹¤ 40% ë‚®ìŒ", correct = TRUE),
    answer("ì¹˜ë£Œêµ°ì˜ ìœ„í—˜ì´ ëŒ€ì¡°êµ°ë³´ë‹¤ 60% ë†’ìŒ"),
    answer("ë‘ ê·¸ë£¹ì˜ ìœ„í—˜ì´ ë™ì¼í•¨"),
    correct = "ì •ë‹µ! HR=0.6ì€ ì¹˜ë£Œêµ°ì˜ ì‚¬ê±´ ë°œìƒ ìœ„í—˜ì´ ëŒ€ì¡°êµ°ì˜ 60%ë¡œ, 40% ê°ì†Œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤."
  )
)
```

---

**ì¶•í•˜í•©ë‹ˆë‹¤! Part III ì„ìƒí†µê³„í¸ì„ ì™„ë£Œí•˜ì…¨ìŠµë‹ˆë‹¤!** ğŸŠ
