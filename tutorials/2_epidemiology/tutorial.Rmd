---
title: "Part II: ì—­í•™ ë°ì´í„° ì‹œê°í™”"
output:
  learnr::tutorial:
    progressive: true
    allow_skip: true
    css: www/custom.css
    includes:
      in_header: www/header.html
runtime: shiny_prerendered
---

```{r packages, include=FALSE}
# í•„ìš” íŒ¨í‚¤ì§€ ìë™ ì„¤ì¹˜
if(!require("learnr")) install.packages("learnr")
if(!require("ggplot2")) install.packages("ggplot2")
if(!require("dplyr")) install.packages("dplyr")
if(!require("tidyr")) install.packages("tidyr")
if(!require("lubridate")) install.packages("lubridate")
if(!require("scales")) install.packages("scales")
if(!require("showtext")) install.packages("showtext")
if(!require("sysfonts")) install.packages("sysfonts")
```

```{r setup, include=FALSE}
library(learnr)
library(ggplot2)
library(dplyr)
library(tidyr)
library(lubridate)
library(scales)
library(showtext)
library(sysfonts)

# í•œê¸€ í°íŠ¸ ì„¤ì • (Google Fontsì—ì„œ Noto Sans KR ì‚¬ìš©)
font_add_google("Noto Sans KR", "NotoSansKR")
showtext_auto()
theme_set(theme_minimal(base_family = "NotoSansKR"))

# ì—­í•™ ë°ì´í„° ìƒì„±
set.seed(456)

# 1. ë°œë³‘ë¥  ë°ì´í„° (Incidence Rate)
disease_incidence <- data.frame(
  year = rep(2018:2023, each = 12),
  month = rep(1:12, 6),
  cases = c(
    45, 52, 48, 55, 62, 58, 65, 70, 68, 60, 55, 50,  # 2018
    48, 55, 52, 60, 68, 65, 72, 78, 75, 68, 62, 55,  # 2019
    52, 58, 55, 65, 75, 72, 80, 88, 85, 75, 68, 60,  # 2020
    55, 62, 58, 68, 78, 75, 85, 95, 92, 82, 75, 65,  # 2021
    58, 65, 62, 72, 82, 78, 88, 98, 95, 85, 78, 68,  # 2022
    60, 68, 65, 75, 85, 82, 92, 102, 98, 88, 82, 72  # 2023
  ),
  population = rep(100000, 72)
) %>%
  mutate(
    date = as.Date(paste(year, month, "01", sep = "-")),
    incidence_rate = (cases / population) * 100000
  )

# 2. ì—°ë ¹ë³„ ë°œë³‘ë¥  (Age-specific rates)
age_specific_data <- data.frame(
  age_group = rep(c("0-9", "10-19", "20-29", "30-39", "40-49", "50-59", "60-69", "70+"), 2),
  region = rep(c("ë„ì‹œ", "ë†ì´Œ"), each = 8),
  cases = c(15, 25, 45, 65, 85, 120, 150, 180,  # ë„ì‹œ
            12, 20, 35, 55, 75, 110, 140, 170),  # ë†ì´Œ
  population = c(5000, 6000, 8000, 7500, 7000, 6500, 5500, 4000,  # ë„ì‹œ
                 4500, 5500, 7000, 6500, 6000, 5500, 4500, 3500)   # ë†ì´Œ
) %>%
  mutate(
    rate_per_100k = (cases / population) * 100000
  )

# 3. ìœ í–‰ê³¡ì„  ë°ì´í„° (Outbreak)
outbreak_data <- data.frame(
  date = seq.Date(as.Date("2023-06-01"), by = "day", length.out = 60),
  cases = c(
    2, 3, 5, 8, 12, 18, 25, 35, 48, 62, 78, 95, 110, 125, 138,  # ìƒìŠ¹ê¸° (15ê°œ)
    148, 155, 158, 160, 158, 152, 145, 135, 122, 108, 95, 82,   # ì •ì  ë° í•˜ê°• (12ê°œ)
    70, 58, 48, 38, 30, 24, 18, 15, 12, 10, 8, 7, 6,            # í•˜ê°• ì§€ì† (13ê°œ)
    5, 4, 4, 3, 3, 2, 2, 2, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0 # ì¢…ë£Œ (20ê°œ) = ì´ 60ê°œ
  )
) %>%
  mutate(
    week = floor(as.numeric(date - min(date)) / 7) + 1,
    cumulative = cumsum(cases)
  )

# 4. ì§€ì—­ë³„ ë°ì´í„°
regional_data <- data.frame(
  region = c("ì„œìš¸", "ê²½ê¸°", "ì¸ì²œ", "ë¶€ì‚°", "ëŒ€êµ¬", "ê´‘ì£¼", "ëŒ€ì „", "ìš¸ì‚°"),
  cases = c(450, 380, 120, 250, 180, 140, 130, 95),
  population = c(9500000, 13500000, 2950000, 3350000, 2400000, 1450000, 1450000, 1150000)
) %>%
  mutate(
    incidence_rate = (cases / population) * 100000
  )

knitr::opts_chunk$set(echo = FALSE)
```

<div style="text-align: right; padding: 10px;">
  <a href="/shiny/" style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 10px 20px; border-radius: 20px; text-decoration: none; font-weight: bold;">ğŸ  í™ˆìœ¼ë¡œ</a>
</div>

## ğŸ“ˆ ì—­í•™ ë°ì´í„° ì‹œê°í™”ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!

### í•™ìŠµ ëª©í‘œ:
- **ë°œë³‘ë¥ (Incidence Rate)** ê³„ì‚° ë° ì‹œê°í™”
- **ìœ í–‰ê³¡ì„ (Epidemic Curve)** ì œì‘
- **ì—°ë ¹ í‘œì¤€í™” ë¹„ìœ¨** í‘œí˜„
- **ì‹œê³„ì—´ ì—­í•™ ë°ì´í„°** ë¶„ì„ ë° ì‹œê°í™”
- ì§€ì—­ë³„ ì§ˆë³‘ ë¶„í¬ ë¹„êµ

### ì´ ê³¼ì •ì„ ë§ˆì¹˜ë©´:
âœ… ì—­í•™ ì—°êµ¬ì— í•„ìˆ˜ì ì¸ ê·¸ë˜í”„ë¥¼ ê·¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… ë°œë³‘ë¥ ê³¼ ìœ ë³‘ë¥ ì„ ì‹œê°í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… ì§ˆë³‘ ìœ í–‰ì˜ íŒ¨í„´ì„ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… ë…¼ë¬¸ ì¶œíŒ ìˆ˜ì¤€ì˜ ì—­í•™ ê·¸ë˜í”„ë¥¼ ì œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

---

## 1ì¥: ë°œë³‘ë¥  ì‹œê°í™” (Incidence Rate)

### ë°œë³‘ë¥ ì´ë€?

**ë°œë³‘ë¥ (Incidence Rate)** = (íŠ¹ì • ê¸°ê°„ ë™ì•ˆ ìƒˆë¡œ ë°œìƒí•œ í™˜ì ìˆ˜ / ìœ„í—˜ì¸êµ¬) Ã— 100,000

ì—­í•™ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ë¡œ, ì§ˆë³‘ì˜ ìƒˆë¡œìš´ ë°œìƒì„ ì¸¡ì •í•©ë‹ˆë‹¤.

### ì‹œê³„ì—´ ë°œë³‘ë¥  ê·¸ë˜í”„

```{r incidence-demo, echo=TRUE}
ggplot(disease_incidence, aes(x = date, y = incidence_rate)) +
  geom_line(color = "#E74C3C", linewidth = 1.2) +
  geom_point(color = "#E74C3C", size = 2) +
  geom_smooth(method = "loess", se = TRUE, alpha = 0.2, color = "#3498DB") +
  labs(
    title = "ì—°ë„ë³„ ì§ˆë³‘ ë°œë³‘ë¥  ì¶”ì´",
    subtitle = "2018-2023ë…„ ì›”ë³„ ë°œë³‘ë¥  (ì¸êµ¬ 10ë§Œ ëª…ë‹¹)",
    x = "ë‚ ì§œ",
    y = "ë°œë³‘ë¥  (per 100,000)",
    caption = "ì¶œì²˜: ê°€ìƒ ì—­í•™ ê°ì‹œ ë°ì´í„°"
  ) +
  scale_x_date(date_breaks = "6 months", date_labels = "%Y-%m") +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    plot.title = element_text(face = "bold", size = 14)
  )
```

**í•´ì„:** 2018ë…„ë¶€í„° 2023ë…„ê¹Œì§€ ë°œë³‘ë¥ ì´ ì ì§„ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ì¶”ì„¸ë¥¼ ë³´ì…ë‹ˆë‹¤!

### ì—°ìŠµ: ë°œë³‘ ê±´ìˆ˜ ì‹œê°í™”

```{r incidence-exercise, exercise=TRUE, exercise.lines=8}
# disease_incidence ë°ì´í„°ë¡œ ì—°ë„ë³„ í‰ê·  ë°œë³‘ ê±´ìˆ˜ ë§‰ëŒ€ ê·¸ë˜í”„
disease_incidence %>%
  group_by(year) %>%
  summarise(avg_cases = mean(___)) %>%
  ggplot(aes(x = factor(year), y = avg_cases)) +
  geom_col(fill = "#3498DB")
```

```{r incidence-exercise-solution}
disease_incidence %>%
  group_by(year) %>%
  summarise(avg_cases = mean(cases)) %>%
  ggplot(aes(x = factor(year), y = avg_cases)) +
  geom_col(fill = "#3498DB", alpha = 0.8) +
  geom_text(aes(label = round(avg_cases, 1)), vjust = -0.5, size = 4) +
  labs(
    title = "ì—°ë„ë³„ í‰ê·  ì›”ê°„ ë°œë³‘ ê±´ìˆ˜",
    x = "ì—°ë„",
    y = "í‰ê·  ë°œë³‘ ê±´ìˆ˜",
    caption = "ë°ì´í„°: ì›”ë³„ í‰ê·  ì§‘ê³„"
  ) +
  theme_minimal() +
  theme(plot.title = element_text(face = "bold"))
```

---

## 2ì¥: ìœ í–‰ê³¡ì„  (Epidemic Curve)

### ìœ í–‰ê³¡ì„ ì´ë€?

**ìœ í–‰ê³¡ì„ (Epidemic Curve)** ì€ ì§ˆë³‘ ë°œìƒì˜ ì‹œê°„ì  ë¶„í¬ë¥¼ ë³´ì—¬ì£¼ëŠ” íˆìŠ¤í† ê·¸ë¨ì…ë‹ˆë‹¤. ë°œë³‘ ì‹œì ì˜ íŒ¨í„´ì„ í†µí•´ ì „íŒŒ ë°©ì‹ì„ ì¶”ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì¼ë³„ ìœ í–‰ê³¡ì„ 

```{r epi-curve-demo, echo=TRUE}
ggplot(outbreak_data, aes(x = date, y = cases)) +
  geom_col(fill = "#E74C3C", alpha = 0.7, color = "white") +
  geom_line(aes(y = cases), color = "#2C3E50", linewidth = 1, group = 1) +
  labs(
    title = "ê°ì—¼ë³‘ ë°œìƒ ìœ í–‰ê³¡ì„ ",
    subtitle = "2023ë…„ 6-7ì›” ë°œìƒ ì‚¬ë¡€ (ì¼ë³„)",
    x = "ë‚ ì§œ",
    y = "ì¼ì¼ ë°œìƒ ê±´ìˆ˜",
    caption = "ì „í˜•ì ì¸ ì ì› ë…¸ì¶œ íŒ¨í„´ (Point Source)"
  ) +
  scale_x_date(date_breaks = "1 week", date_labels = "%m/%d") +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    plot.title = element_text(face = "bold", size = 14),
    panel.grid.minor = element_blank()
  )
```

**í•´ì„:** ì•½ 3ì£¼ì°¨ì— ì •ì ì„ ë³´ì´ê³  ê¸‰ê²©íˆ ê°ì†Œí•˜ëŠ” ì „í˜•ì ì¸ ë‹¨ì¼ ë…¸ì¶œ ìœ í–‰ íŒ¨í„´ì…ë‹ˆë‹¤!

### ëˆ„ì  ë°œìƒ ê³¡ì„ 

```{r cumulative-curve, echo=TRUE}
ggplot(outbreak_data, aes(x = date)) +
  geom_area(aes(y = cumulative), fill = "#3498DB", alpha = 0.5) +
  geom_line(aes(y = cumulative), color = "#2C3E50", linewidth = 1.2) +
  geom_hline(yintercept = max(outbreak_data$cumulative),
             linetype = "dashed", color = "red") +
  annotate("text", x = min(outbreak_data$date) + 10,
           y = max(outbreak_data$cumulative) + 50,
           label = paste0("ì´ ", max(outbreak_data$cumulative), "ëª…"),
           color = "red", fontface = "bold") +
  labs(
    title = "ëˆ„ì  ë°œìƒ ì‚¬ë¡€",
    subtitle = "ì‹œê°„ì— ë”°ë¥¸ ëˆ„ì  í™˜ì ìˆ˜",
    x = "ë‚ ì§œ",
    y = "ëˆ„ì  ë°œìƒ ê±´ìˆ˜"
  ) +
  scale_x_date(date_breaks = "1 week", date_labels = "%m/%d") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

### ì—°ìŠµ: ì£¼ê°„ ì§‘ê³„ ìœ í–‰ê³¡ì„ 

```{r weekly-epi-exercise, exercise=TRUE, exercise.lines=10}
# outbreak_dataë¥¼ ì£¼ë³„ë¡œ ì§‘ê³„í•˜ì—¬ ìœ í–‰ê³¡ì„  ê·¸ë¦¬ê¸°
outbreak_weekly <- outbreak_data %>%
  group_by(___) %>%
  summarise(weekly_cases = sum(___))

ggplot(outbreak_weekly, aes(x = week, y = weekly_cases)) +
  geom_col()
```

```{r weekly-epi-exercise-solution}
outbreak_weekly <- outbreak_data %>%
  group_by(week) %>%
  summarise(weekly_cases = sum(cases))

ggplot(outbreak_weekly, aes(x = week, y = weekly_cases)) +
  geom_col(fill = "#E74C3C", alpha = 0.7) +
  geom_text(aes(label = weekly_cases), vjust = -0.5, size = 3) +
  labs(
    title = "ì£¼ê°„ ë°œìƒ ì‚¬ë¡€",
    subtitle = "ì£¼ë³„ ì§‘ê³„ ìœ í–‰ê³¡ì„ ",
    x = "ì£¼ì°¨",
    y = "ì£¼ê°„ ë°œìƒ ê±´ìˆ˜"
  ) +
  theme_minimal() +
  theme(panel.grid.minor = element_blank())
```

---

## 3ì¥: ì—°ë ¹ë³„ ë°œë³‘ë¥  ë¹„êµ

### ì—°ë ¹êµ°ë³„ ë°œë³‘ë¥ 

ì—­í•™ì—ì„œ ì—°ë ¹ì€ ê°€ì¥ ì¤‘ìš”í•œ ìœ„í—˜ ìš”ì¸ì…ë‹ˆë‹¤. ì—°ë ¹ë³„ ë°œë³‘ë¥ ì„ ì‹œê°í™”í•˜ì—¬ ê³ ìœ„í—˜êµ°ì„ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```{r age-specific-demo, echo=TRUE}
ggplot(age_specific_data, aes(x = age_group, y = rate_per_100k, fill = region)) +
  geom_col(position = "dodge", alpha = 0.8) +
  geom_text(aes(label = round(rate_per_100k, 0)),
            position = position_dodge(width = 0.9),
            vjust = -0.5, size = 3) +
  scale_fill_manual(values = c("ë„ì‹œ" = "#3498DB", "ë†ì´Œ" = "#E74C3C")) +
  labs(
    title = "ì§€ì—­ë³„ ì—°ë ¹êµ° íŠ¹ì´ ë°œë³‘ë¥ ",
    subtitle = "ë„ì‹œ vs ë†ì´Œ ë¹„êµ (ì¸êµ¬ 10ë§Œ ëª…ë‹¹)",
    x = "ì—°ë ¹êµ°",
    y = "ë°œë³‘ë¥  (per 100,000)",
    fill = "ì§€ì—­"
  ) +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 0),
    legend.position = "top",
    plot.title = element_text(face = "bold")
  )
```

**í•´ì„:** ì—°ë ¹ì´ ì¦ê°€í• ìˆ˜ë¡ ë°œë³‘ë¥ ì´ ë†’ì•„ì§€ë©°, ë„ì‹œê°€ ë†ì´Œë³´ë‹¤ ì „ë°˜ì ìœ¼ë¡œ ë†’ìŠµë‹ˆë‹¤!

### ì—°ìŠµ: ì„  ê·¸ë˜í”„ë¡œ ë¹„êµ

```{r age-line-exercise, exercise=TRUE, exercise.lines=8}
# ì—°ë ¹ë³„ ë°œë³‘ë¥ ì„ ì„  ê·¸ë˜í”„ë¡œ í‘œí˜„
ggplot(age_specific_data, aes(x = age_group, y = rate_per_100k,
                               color = region, group = region)) +
  geom_line() +
  geom_point()
```

```{r age-line-exercise-solution}
ggplot(age_specific_data, aes(x = age_group, y = rate_per_100k,
                               color = region, group = region)) +
  geom_line(linewidth = 1.2) +
  geom_point(size = 3) +
  scale_color_manual(values = c("ë„ì‹œ" = "#3498DB", "ë†ì´Œ" = "#E74C3C")) +
  labs(
    title = "ì—°ë ¹êµ°ë³„ ë°œë³‘ë¥  ì¶”ì´",
    subtitle = "ì§€ì—­ ê°„ ë¹„êµ",
    x = "ì—°ë ¹êµ°",
    y = "ë°œë³‘ë¥  (per 100,000)",
    color = "ì§€ì—­"
  ) +
  theme_minimal() +
  theme(legend.position = "top")
```

---

## 4ì¥: ì§€ì—­ë³„ ì§ˆë³‘ ë¶„í¬

### ì§€ì—­ë³„ ë°œë³‘ë¥  ë¹„êµ

```{r regional-demo, echo=TRUE}
ggplot(regional_data, aes(x = reorder(region, -incidence_rate),
                          y = incidence_rate)) +
  geom_col(aes(fill = incidence_rate), alpha = 0.8) +
  geom_text(aes(label = round(incidence_rate, 1)), vjust = -0.5, size = 4) +
  scale_fill_gradient(low = "#2ECC71", high = "#E74C3C") +
  labs(
    title = "ì§€ì—­ë³„ ì§ˆë³‘ ë°œë³‘ë¥ ",
    subtitle = "ì¸êµ¬ 10ë§Œ ëª…ë‹¹ ë°œë³‘ë¥ ",
    x = "ì§€ì—­",
    y = "ë°œë³‘ë¥  (per 100,000)",
    fill = "ë°œë³‘ë¥ "
  ) +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 0),
    legend.position = "right",
    plot.title = element_text(face = "bold", size = 14)
  )
```

### ë°œìƒ ê±´ìˆ˜ vs ë°œë³‘ë¥  ë¹„êµ

```{r cases-vs-rate, echo=TRUE}
library(tidyr)

regional_long <- regional_data %>%
  select(region, cases, incidence_rate) %>%
  pivot_longer(cols = c(cases, incidence_rate),
               names_to = "measure",
               values_to = "value")

ggplot(regional_long, aes(x = reorder(region, value), y = value, fill = measure)) +
  geom_col() +
  facet_wrap(~ measure, scales = "free_y",
             labeller = labeller(measure = c(cases = "ë°œìƒ ê±´ìˆ˜",
                                             incidence_rate = "ë°œë³‘ë¥ "))) +
  coord_flip() +
  scale_fill_manual(values = c("cases" = "#3498DB", "incidence_rate" = "#E74C3C"),
                    labels = c("ë°œìƒ ê±´ìˆ˜", "ë°œë³‘ë¥ ")) +
  labs(
    title = "ì§€ì—­ë³„ ë°œìƒ ê±´ìˆ˜ vs ë°œë³‘ë¥  ë¹„êµ",
    subtitle = "ì¸êµ¬ ê·œëª¨ë¥¼ ë³´ì •í•œ ë°œë³‘ë¥ ì´ ë” ì •í™•í•œ ë¹„êµ ì§€í‘œ",
    x = "ì§€ì—­",
    y = "ê°’",
    fill = "ì§€í‘œ"
  ) +
  theme_minimal() +
  theme(legend.position = "top")
```

**ì¤‘ìš”:** ì¸êµ¬ê°€ ë§ì€ ì§€ì—­ì´ ë°œìƒ ê±´ìˆ˜ëŠ” ë§ì§€ë§Œ, ë°œë³‘ë¥ ë¡œ ë³´ì •í•˜ë©´ ë‹¤ë¥¸ íŒ¨í„´ì„ ë³´ì…ë‹ˆë‹¤!

---

## 5ì¥: ì¢…í•© í€´ì¦ˆ ğŸ“

### ì—­í•™ ê°œë… í€´ì¦ˆ

```{r quiz-epi-concepts}
quiz(
  question("ë°œë³‘ë¥ (Incidence Rate)ì˜ ì •ì˜ëŠ”?",
    answer("íŠ¹ì • ì‹œì ì— ì§ˆë³‘ì„ ê°€ì§„ ì‚¬ëŒì˜ ë¹„ìœ¨"),
    answer("íŠ¹ì • ê¸°ê°„ ë™ì•ˆ ìƒˆë¡œ ë°œìƒí•œ í™˜ìì˜ ë¹„ìœ¨", correct = TRUE),
    answer("ì§ˆë³‘ìœ¼ë¡œ ì¸í•œ ì‚¬ë§ìì˜ ë¹„ìœ¨"),
    answer("íšŒë³µëœ í™˜ìì˜ ë¹„ìœ¨"),
    correct = "ì •ë‹µ! ë°œë³‘ë¥ ì€ ìƒˆë¡œìš´ ë°œìƒ(New cases)ì„ ì¸¡ì •í•©ë‹ˆë‹¤.",
    incorrect = "ë°œë³‘ë¥ ì€ 'ìƒˆë¡œìš´' í™˜ì ë°œìƒì„ ì¸¡ì •í•˜ëŠ” ì§€í‘œì…ë‹ˆë‹¤."
  ),

  question("ìœ í–‰ê³¡ì„ (Epidemic Curve)ì˜ ì£¼ìš” ëª©ì ì€?",
    answer("ì§ˆë³‘ì˜ ì¹˜ë£Œ ë°©ë²• ê²°ì •"),
    answer("ë°œë³‘ ì‹œì ì˜ ì‹œê°„ì  ë¶„í¬ íŒŒì•…", correct = TRUE),
    answer("í™˜ìì˜ ì„ìƒ ì¦ìƒ ê¸°ë¡"),
    answer("ë³‘ì›ì˜ ìˆ˜ìš© ëŠ¥ë ¥ ê³„ì‚°"),
    correct = "ì •ë‹µ! ìœ í–‰ê³¡ì„ ì€ ë°œë³‘ ì‹œì ì˜ íŒ¨í„´ì„ ë³´ì—¬ì¤ë‹ˆë‹¤."
  ),

  question("ì¸êµ¬ 10ë§Œ ëª…ë‹¹ ë°œë³‘ë¥ ì„ ê³„ì‚°í•˜ëŠ” ì´ìœ ëŠ”?",
    answer("ê³„ì‚°ì´ ì‰¬ì›Œì„œ"),
    answer("WHO ê¸°ì¤€ì´ë¼ì„œ"),
    answer("ì„œë¡œ ë‹¤ë¥¸ ì¸êµ¬ ê·œëª¨ì˜ ì§€ì—­ì„ ê³µì •í•˜ê²Œ ë¹„êµí•˜ê¸° ìœ„í•´", correct = TRUE),
    answer("í†µê³„ì  ìœ ì˜ì„±ì„ ë†’ì´ê¸° ìœ„í•´"),
    correct = "ì •ë‹µ! ì¸êµ¬ ê·œëª¨ë¥¼ í‘œì¤€í™”í•˜ì—¬ ê³µì •í•œ ë¹„êµê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤."
  ),

  question("ì ì› ë…¸ì¶œ(Point Source) ìœ í–‰ì˜ íŠ¹ì§•ì€?",
    answer("ì§€ì†ì ìœ¼ë¡œ ì¼ì •í•œ ë°œìƒ"),
    answer("ë‹¨ì¼ ì‹œì  ë…¸ì¶œ í›„ ê¸‰ê²©í•œ ì¦ê°€ì™€ ê°ì†Œ", correct = TRUE),
    answer("ì—¬ëŸ¬ ë²ˆì˜ ì •ì "),
    answer("ì„ í˜•ì  ì¦ê°€"),
    correct = "ì •ë‹µ! ë‹¨ì¼ ë…¸ì¶œ í›„ ì ë³µê¸°ë¥¼ ê±°ì³ ì§‘ë‹¨ ë°œë³‘í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤."
  )
)
```

### ì‹œê°í™” ê¸°ë²• í€´ì¦ˆ

```{r quiz-visualization}
quiz(
  question("ìœ í–‰ê³¡ì„ ì„ ê·¸ë¦´ ë•Œ ê°€ì¥ ì í•©í•œ geomì€?",
    answer("geom_point()"),
    answer("geom_line()"),
    answer("geom_col()", correct = TRUE),
    answer("geom_boxplot()"),
    correct = "ì •ë‹µ! ìœ í–‰ê³¡ì„ ì€ ë§‰ëŒ€ ê·¸ë˜í”„(geom_col)ê°€ í‘œì¤€ì…ë‹ˆë‹¤."
  ),

  question("ì‹œê³„ì—´ ë°œë³‘ë¥  ë°ì´í„°ì— ì í•©í•œ ì‹œê°í™”ëŠ”? (ë³µìˆ˜ ì„ íƒ)",
    answer("geom_line()", correct = TRUE),
    answer("geom_smooth()", correct = TRUE),
    answer("geom_col()"),
    answer("geom_point()", correct = TRUE),
    type = "multiple",
    correct = "ë§ìŠµë‹ˆë‹¤! ì„  ê·¸ë˜í”„, ì¶”ì„¸ì„ , ì  ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤."
  ),

  question("ì—°ë ¹ë³„ ë°œë³‘ë¥ ì„ ë¹„êµí•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê·¸ë˜í”„ëŠ”?",
    answer("ë§‰ëŒ€ ê·¸ë˜í”„", correct = TRUE),
    answer("ì„  ê·¸ë˜í”„", correct = TRUE),
    answer("ì‚°ì ë„"),
    answer("íŒŒì´ ì°¨íŠ¸"),
    type = "multiple",
    correct = "ì •ë‹µ! ë§‰ëŒ€ì™€ ì„  ê·¸ë˜í”„ ëª¨ë‘ ì í•©í•©ë‹ˆë‹¤."
  ),

  question("ëˆ„ì  ë°œìƒ ê³¡ì„ ì„ ê·¸ë¦´ ë•Œ ì í•©í•œ geomì€?",
    answer("geom_area()", correct = TRUE),
    answer("geom_line()", correct = TRUE),
    answer("geom_histogram()"),
    answer("geom_boxplot()"),
    type = "multiple",
    correct = "ë§ìŠµë‹ˆë‹¤! ëˆ„ì  ê³¡ì„ ì€ ì˜ì—­(area)ì´ë‚˜ ì„ (line)ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤."
  ),

  question("ì§€ì—­ë³„ ë°œë³‘ë¥ ì„ ìƒ‰ìƒ ê·¸ë¼ë°ì´ì…˜ìœ¼ë¡œ í‘œí˜„í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ëŠ”?",
    answer("scale_color_manual()"),
    answer("scale_fill_gradient()", correct = TRUE),
    answer("scale_fill_brewer()"),
    answer("theme()"),
    correct = "ì •ë‹µ! scale_fill_gradient()ë¡œ ì—°ì†í˜• ìƒ‰ìƒ ê·¸ë¼ë°ì´ì…˜ì„ ë§Œë“­ë‹ˆë‹¤."
  )
)
```

### ë°ì´í„° í•´ì„ í€´ì¦ˆ

```{r quiz-interpretation}
quiz(
  question("ë°œìƒ ê±´ìˆ˜ê°€ ë§ì§€ë§Œ ë°œë³‘ë¥ ì´ ë‚®ì€ ì´ìœ ëŠ”?",
    answer("ë°ì´í„° ì˜¤ë¥˜"),
    answer("ì¸êµ¬ê°€ ë§ì•„ì„œ", correct = TRUE),
    answer("ì§ˆë³‘ì´ ì•½í•´ì„œ"),
    answer("ì¸¡ì • ë°©ë²•ì˜ ì°¨ì´"),
    correct = "ì •ë‹µ! ì¸êµ¬ê°€ ë§ìœ¼ë©´ ì ˆëŒ€ ê±´ìˆ˜ëŠ” ë§ì§€ë§Œ ë¹„ìœ¨(ë°œë³‘ë¥ )ì€ ë‚®ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
  ),

  question("ìœ í–‰ê³¡ì„ ì˜ ì •ì ì´ 3ì£¼ì°¨ì— ë‚˜íƒ€ë‚¬ë‹¤ë©´ ì˜ë¯¸í•˜ëŠ” ê²ƒì€?",
    answer("ì¹˜ë£Œê°€ ê°€ì¥ ë§ì´ ì´ë£¨ì–´ì§„ ì‹œì "),
    answer("ê°€ì¥ ë§ì€ í™˜ìê°€ ë°œë³‘í•œ ì‹œì ", correct = TRUE),
    answer("ìœ í–‰ì´ ëë‚œ ì‹œì "),
    answer("ë°±ì‹  ì ‘ì¢… ì‹œì‘ ì‹œì "),
    correct = "ì •ë‹µ! ì •ì ì€ ìµœëŒ€ ë°œë³‘ ì‹œì ì„ ì˜ë¯¸í•©ë‹ˆë‹¤."
  ),

  question("ì—°ë ¹ì´ ì¦ê°€í• ìˆ˜ë¡ ë°œë³‘ë¥ ì´ ë†’ì•„ì§€ëŠ” íŒ¨í„´ì˜ ì˜ë¯¸ëŠ”?",
    answer("ì§„ë‹¨ ê¸°ìˆ ì˜ ì°¨ì´"),
    answer("ì—°ë ¹ì´ ì§ˆë³‘ì˜ ìœ„í—˜ ìš”ì¸", correct = TRUE),
    answer("ìš°ì—°í•œ ê²°ê³¼"),
    answer("í‘œë³¸ ì¶”ì¶œ ì˜¤ë¥˜"),
    correct = "ì •ë‹µ! ì—°ë ¹ ì¦ê°€ì™€ ë°œë³‘ë¥ ì˜ ì–‘ì˜ ìƒê´€ê´€ê³„ë¥¼ ë³´ì…ë‹ˆë‹¤."
  ),

  question("ë°œë³‘ë¥  ì‹œê³„ì—´ ê·¸ë˜í”„ì—ì„œ ê³„ì ˆì„± íŒ¨í„´ì´ ë³´ì¸ë‹¤ë©´?",
    answer("ê³„ì ˆì´ ì§ˆë³‘ ë°œìƒì— ì˜í–¥", correct = TRUE),
    answer("ë°ì´í„° ìˆ˜ì§‘ ì˜¤ë¥˜"),
    answer("ìš°ì—°í•œ ë³€ë™"),
    answer("ì¹˜ë£Œ íš¨ê³¼"),
    correct = "ì •ë‹µ! ë°˜ë³µë˜ëŠ” ê³„ì ˆì  íŒ¨í„´ì€ í™˜ê²½ ìš”ì¸ì˜ ì˜í–¥ì„ ì‹œì‚¬í•©ë‹ˆë‹¤."
  )
)
```

---

## 6ì¥: ì‹¬í™” í€´ì¦ˆ ğŸ§ 

### ì½”ë“œ ê²°ê³¼ ì˜ˆì¸¡ í€´ì¦ˆ

```{r quiz-code-predict-epi}
quiz(
  question("ë‹¤ìŒ ì½”ë“œì˜ ê²°ê³¼ëŠ”?\n\n`outbreak_data %>% filter(cases > 100) %>% nrow()`",
    answer("100ê±´ ì´ìƒ ë°œìƒí•œ ë‚ ì˜ ìˆ˜", correct = TRUE),
    answer("100ê±´ ì´ìƒì˜ ì´ ë°œìƒ ê±´ìˆ˜"),
    answer("100ê°œì˜ í–‰"),
    answer("ì—ëŸ¬ ë°œìƒ"),
    correct = "ì •ë‹µ! filterë¡œ ì¡°ê±´ì— ë§ëŠ” í–‰ë§Œ ë‚¨ê¸°ê³  nrow()ë¡œ í–‰ ìˆ˜ë¥¼ ì…‰ë‹ˆë‹¤."
  ),

  question("`scale_x_date(date_breaks = '1 week', date_labels = '%m/%d')`ì˜ ê²°ê³¼ëŠ”?",
    answer("xì¶•ì— 1ì£¼ ê°„ê²©ìœ¼ë¡œ ì›”/ì¼ í˜•ì‹ í‘œì‹œ", correct = TRUE),
    answer("xì¶•ì— 1ê°œì›” ê°„ê²© í‘œì‹œ"),
    answer("ë°ì´í„°ë¥¼ ì£¼ë³„ë¡œ ì§‘ê³„"),
    answer("ì—ëŸ¬ ë°œìƒ"),
    correct = "ì •ë‹µ! date_breaksëŠ” ëˆˆê¸ˆ ê°„ê²©, date_labelsëŠ” í‘œì‹œ í˜•ì‹ì„ ì§€ì •í•©ë‹ˆë‹¤."
  ),

  question("`cumsum(cases)`ì˜ ê²°ê³¼ëŠ”?",
    answer("casesì˜ í•©ê³„"),
    answer("casesì˜ ëˆ„ì  í•©ê³„", correct = TRUE),
    answer("casesì˜ í‰ê· "),
    answer("casesì˜ í‘œì¤€í¸ì°¨"),
    correct = "ì •ë‹µ! cumsum()ì€ ëˆ„ì  í•©ê³„(cumulative sum)ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤."
  )
)
```

### ì˜¤ë¥˜ ì°¾ê¸° í€´ì¦ˆ

```{r quiz-error-epi}
quiz(
  question("ë‹¤ìŒ ì½”ë“œì˜ ì˜¤ë¥˜ëŠ”?\n\n`ggplot(data, aes(x = date, y = cases)) + geom_col() + scale_x_date()`\n\n(ë‹¨, dateê°€ ë¬¸ìì—´ì¸ ê²½ìš°)",
    answer("dateê°€ Date í˜•ì‹ì´ ì•„ë‹ˆë¼ì„œ scale_x_date ì˜¤ë¥˜", correct = TRUE),
    answer("geom_col() ì˜¤ë¥˜"),
    answer("aes() ì˜¤ë¥˜"),
    answer("ì˜¤ë¥˜ ì—†ìŒ"),
    correct = "ì •ë‹µ! scale_x_date()ëŠ” Date í˜•ì‹ ë³€ìˆ˜ì—ë§Œ ì‘ë™í•©ë‹ˆë‹¤. as.Date()ë¡œ ë³€í™˜ í•„ìš”!"
  ),

  question("ë‹¤ìŒ ì½”ë“œì˜ ë¬¸ì œì ì€?\n\n`data %>% group_by(year) %>% summarise(total = sum(cases)) %>% mutate(rate = total / population)`",
    answer("group_by í›„ population ë³€ìˆ˜ê°€ ì—†ìŒ", correct = TRUE),
    answer("summarise ë¬¸ë²• ì˜¤ë¥˜"),
    answer("mutate ìœ„ì¹˜ ì˜¤ë¥˜"),
    answer("ë¬¸ì œ ì—†ìŒ"),
    correct = "ì •ë‹µ! summarise í›„ì—ëŠ” ê·¸ë£¹ ë³€ìˆ˜ì™€ ìš”ì•½ ë³€ìˆ˜ë§Œ ë‚¨ìŠµë‹ˆë‹¤. populationë„ summariseì— í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤."
  ),

  question("ë°œë³‘ë¥  ê³„ì‚° ê³µì‹ `(cases / population) * 1000`ì˜ ë¬¸ì œì ì€?",
    answer("1000 ëŒ€ì‹  100000ì„ ì‚¬ìš©í•´ì•¼ ì¸êµ¬ 10ë§Œëª…ë‹¹ ë¹„ìœ¨", correct = TRUE),
    answer("ë‚˜ëˆ—ì…ˆ ìˆœì„œ ì˜¤ë¥˜"),
    answer("ê´„í˜¸ ìœ„ì¹˜ ì˜¤ë¥˜"),
    answer("ë¬¸ì œ ì—†ìŒ"),
    correct = "ì •ë‹µ! ì—­í•™ì—ì„œ ë°œë³‘ë¥ ì€ ë³´í†µ ì¸êµ¬ 10ë§Œëª…ë‹¹(100,000)ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤."
  )
)
```

### ë¹ˆì¹¸ ì±„ìš°ê¸° í€´ì¦ˆ

```{r quiz-fill-epi}
quiz(
  question("ì£¼ë³„ ì§‘ê³„: `data %>% group_by(____) %>% summarise(weekly = sum(cases))`",
    answer("week", correct = TRUE),
    answer("date"),
    answer("cases"),
    answer("sum"),
    correct = "ì •ë‹µ! week ë³€ìˆ˜ë¡œ ê·¸ë£¹í™”í•˜ì—¬ ì£¼ë³„ í•©ê³„ë¥¼ êµ¬í•©ë‹ˆë‹¤."
  ),

  question("ë‚ ì§œ í˜•ì‹ ë³€í™˜: `mutate(date = ______(date_string))`",
    answer("as.Date", correct = TRUE),
    answer("as.numeric"),
    answer("as.character"),
    answer("date"),
    correct = "ì •ë‹µ! as.Date()ë¡œ ë¬¸ìì—´ì„ ë‚ ì§œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤."
  ),

  question("xì¶• 45ë„ íšŒì „: `theme(axis.text.x = element_text(angle = ____))`",
    answer("45", correct = TRUE),
    answer("90"),
    answer("0"),
    answer("180"),
    correct = "ì •ë‹µ! angle = 45ë¡œ 45ë„ íšŒì „í•©ë‹ˆë‹¤."
  )
)
```

### ì—­í•™ ê°œë… ì‹¬í™” í€´ì¦ˆ

```{r quiz-epi-advanced}
quiz(
  question("ìœ í–‰ê³¡ì„ ì—ì„œ 'trailing tail'ì´ ê¸¸ê²Œ ë‚˜íƒ€ë‚˜ëŠ” ê²½ìš° ì˜ë¯¸í•˜ëŠ” ê²ƒì€?",
    answer("2ì°¨ ê°ì—¼(person-to-person transmission)ì´ ë°œìƒ", correct = TRUE),
    answer("ì¸¡ì • ì˜¤ë¥˜"),
    answer("ë‹¨ì¼ ë…¸ì¶œì›"),
    answer("ìœ í–‰ ì¢…ë£Œ"),
    correct = "ì •ë‹µ! ê¸´ ê¼¬ë¦¬ëŠ” ì‚¬ëŒ ê°„ ì „íŒŒë¡œ ì¸í•œ 2ì°¨, 3ì°¨ ê°ì—¼ì„ ì‹œì‚¬í•©ë‹ˆë‹¤."
  ),

  question("ì—°ë ¹ í‘œì¤€í™”(Age Standardization)ê°€ í•„ìš”í•œ ì´ìœ ëŠ”?",
    answer("ì—°ë ¹ êµ¬ì¡°ê°€ ë‹¤ë¥¸ ì¸êµ¬ ì§‘ë‹¨ì„ ê³µì •í•˜ê²Œ ë¹„êµí•˜ê¸° ìœ„í•´", correct = TRUE),
    answer("ê³„ì‚°ì´ ì‰¬ì›Œì„œ"),
    answer("ê·¸ë˜í”„ê°€ ì˜ˆë»ì„œ"),
    answer("WHO ê·œì •"),
    correct = "ì •ë‹µ! ì—°ë ¹ êµ¬ì¡° ì°¨ì´ë¥¼ ë³´ì •í•˜ì—¬ ìˆœìˆ˜í•œ ë°œë³‘ë¥  ì°¨ì´ë¥¼ ë¹„êµí•©ë‹ˆë‹¤."
  ),

  question("ë°œë³‘ë¥ (Incidence)ê³¼ ìœ ë³‘ë¥ (Prevalence)ì˜ ì°¨ì´ëŠ”?",
    answer("ë°œë³‘ë¥ ì€ ìƒˆë¡œìš´ ë°œìƒ, ìœ ë³‘ë¥ ì€ íŠ¹ì • ì‹œì ì˜ ë³´ìœ  ìƒíƒœ", correct = TRUE),
    answer("ê°™ì€ ì˜ë¯¸"),
    answer("ë°œë³‘ë¥ ì´ í•­ìƒ ë” ë†’ìŒ"),
    answer("ìœ ë³‘ë¥ ì€ ì‚¬ë§ë¥  í¬í•¨"),
    correct = "ì •ë‹µ! IncidenceëŠ” ìƒˆë¡œìš´ ì¼€ì´ìŠ¤, PrevalenceëŠ” í˜„ì¬ ê°€ì§€ê³  ìˆëŠ” ì¼€ì´ìŠ¤ì…ë‹ˆë‹¤."
  ),

  question("R0 (ê¸°ì´ˆê°ì—¼ì¬ìƒì‚°ìˆ˜)ê°€ 2ë¼ëŠ” ê²ƒì€?",
    answer("ê°ì—¼ì 1ëª…ì´ í‰ê·  2ëª…ì„ ê°ì—¼ì‹œí‚´", correct = TRUE),
    answer("2ì¼ ì•ˆì— ë°œë³‘"),
    answer("ì¹˜ëª…ë¥  2%"),
    answer("ë°œë³‘ë¥  200%"),
    correct = "ì •ë‹µ! R0ëŠ” í•œ ê°ì—¼ìê°€ í‰ê· ì ìœ¼ë¡œ ê°ì—¼ì‹œí‚¤ëŠ” 2ì°¨ ê°ì—¼ì ìˆ˜ì…ë‹ˆë‹¤."
  )
)
```

---

## 7ì¥: ì¢…í•© ì‹¤ìŠµ ğŸš€

### ìµœì¢… ê³¼ì œ: ì—­í•™ ë³´ê³ ì„œ ê·¸ë˜í”„ ì œì‘

**ì‹œë‚˜ë¦¬ì˜¤:** ì—¬ëŸ¬ë¶„ì€ ì§ˆë³‘ê´€ë¦¬ë³¸ë¶€ì˜ ì—­í•™ì¡°ì‚¬ê´€ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ê°ì—¼ë³‘ ë°œìƒ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ë³´ê³ ì„œë¥¼ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.

#### ê³¼ì œ 1: ì‹œê³„ì—´ ë¶„ì„

disease_incidence ë°ì´í„°ë¡œ 2022-2023ë…„ ë°œë³‘ë¥  ì¶”ì´ë¥¼ ë¶„ì„í•˜ì„¸ìš”.

```{r final-exercise-1, exercise=TRUE, exercise.lines=12}
# 2022-2023ë…„ ë°ì´í„° í•„í„°ë§ í›„ ì‹œê°í™”
recent_data <- disease_incidence %>%
  filter(year >= ___)

ggplot(recent_data, aes(x = ___, y = ___)) +
  geom_line() +
  geom_point()
```

```{r final-exercise-1-solution}
recent_data <- disease_incidence %>%
  filter(year >= 2022)

ggplot(recent_data, aes(x = date, y = incidence_rate)) +
  geom_line(color = "#E74C3C", linewidth = 1.2) +
  geom_point(color = "#E74C3C", size = 2.5) +
  geom_smooth(method = "loess", se = TRUE, alpha = 0.2) +
  labs(
    title = "ìµœê·¼ 2ë…„ê°„ ì§ˆë³‘ ë°œë³‘ë¥  ì¶”ì´",
    subtitle = "2022-2023ë…„ ì›”ë³„ ë°œë³‘ë¥  (ì¸êµ¬ 10ë§Œ ëª…ë‹¹)",
    x = "ë‚ ì§œ",
    y = "ë°œë³‘ë¥  (per 100,000)",
    caption = "ë°ì´í„°: ì§ˆë³‘ê´€ë¦¬ë³¸ë¶€"
  ) +
  scale_x_date(date_breaks = "2 months", date_labels = "%Y-%m") +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    plot.title = element_text(face = "bold", size = 14),
    panel.grid.minor = element_blank()
  )
```

#### ê³¼ì œ 2: ë°œìƒ vs ë°œë³‘ë¥  ë¹„êµ íŒ¨ë„

regional_dataë¡œ ë°œìƒ ê±´ìˆ˜ì™€ ë°œë³‘ë¥ ì„ facetìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë¹„êµí•˜ì„¸ìš”.

```{r final-exercise-2, exercise=TRUE, exercise.lines=15}
# ë°ì´í„° ë³€í™˜ ë° facet ê·¸ë˜í”„
regional_long <- regional_data %>%
  select(region, cases, incidence_rate) %>%
  pivot_longer(cols = c(___, ___),
               names_to = "measure",
               values_to = "value")

ggplot(regional_long, aes(x = reorder(region, value), y = value)) +
  geom_col()
```

```{r final-exercise-2-solution}
regional_long <- regional_data %>%
  select(region, cases, incidence_rate) %>%
  pivot_longer(cols = c(cases, incidence_rate),
               names_to = "measure",
               values_to = "value")

ggplot(regional_long, aes(x = reorder(region, value), y = value, fill = measure)) +
  geom_col(alpha = 0.8) +
  geom_text(aes(label = round(value, 1)), hjust = -0.2, size = 3) +
  facet_wrap(~ measure, scales = "free_x",
             labeller = labeller(measure = c(
               cases = "ë°œìƒ ê±´ìˆ˜",
               incidence_rate = "ë°œë³‘ë¥  (per 100,000)"
             ))) +
  coord_flip() +
  scale_fill_manual(values = c("cases" = "#3498DB", "incidence_rate" = "#E74C3C"),
                    labels = c("ë°œìƒ ê±´ìˆ˜", "ë°œë³‘ë¥ ")) +
  labs(
    title = "ì§€ì—­ë³„ ì§ˆë³‘ ë¶€ë‹´ ë¹„êµ",
    subtitle = "ì ˆëŒ€ ê±´ìˆ˜ vs ì¸êµ¬ ë³´ì • ë°œë³‘ë¥ ",
    x = "ì§€ì—­",
    y = "ê°’",
    fill = "ì§€í‘œ",
    caption = "ì¸êµ¬ ë³´ì • ë°œë³‘ë¥ ë¡œ ê³µì •í•œ ë¹„êµ ê°€ëŠ¥"
  ) +
  theme_minimal() +
  theme(
    legend.position = "top",
    plot.title = element_text(face = "bold", size = 14),
    strip.text = element_text(face = "bold", size = 11)
  )
```

#### ê³¼ì œ 3: ì—°ë ¹-ì§€ì—­ ì´ì¤‘ ë¹„êµ

age_specific_dataë¡œ ì—°ë ¹ê³¼ ì§€ì—­ì„ ëª¨ë‘ ê³ ë ¤í•œ ë°œë³‘ë¥  íˆíŠ¸ë§µì„ ë§Œë“œì„¸ìš”.

```{r final-exercise-3, exercise=TRUE, exercise.lines=10}
# íˆíŠ¸ë§µ ìŠ¤íƒ€ì¼ ê·¸ë˜í”„
ggplot(age_specific_data, aes(x = age_group, y = region, fill = rate_per_100k)) +
  geom_tile()
```

```{r final-exercise-3-solution}
ggplot(age_specific_data, aes(x = age_group, y = region, fill = rate_per_100k)) +
  geom_tile(color = "white", size = 1) +
  geom_text(aes(label = round(rate_per_100k, 0)),
            color = "white", fontface = "bold", size = 5) +
  scale_fill_gradient(low = "#3498DB", high = "#E74C3C") +
  labs(
    title = "ì—°ë ¹-ì§€ì—­ë³„ ë°œë³‘ë¥  íˆíŠ¸ë§µ",
    subtitle = "ì¸êµ¬ 10ë§Œ ëª…ë‹¹ ë°œë³‘ë¥ ",
    x = "ì—°ë ¹êµ°",
    y = "ì§€ì—­",
    fill = "ë°œë³‘ë¥ "
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 14),
    axis.text.x = element_text(angle = 45, hjust = 1),
    panel.grid = element_blank()
  )
```

---

## ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ‰

### ë°°ìš´ ë‚´ìš© ìš”ì•½:

#### ğŸ“Š ì—­í•™ ì§€í‘œ
- **ë°œë³‘ë¥  (Incidence Rate)**: ìƒˆë¡œìš´ í™˜ì ë°œìƒë¥ 
- **ì¸êµ¬ 10ë§Œ ëª…ë‹¹ í‘œì¤€í™”**: ì§€ì—­ ê°„ ê³µì •í•œ ë¹„êµ
- **ì—°ë ¹êµ° íŠ¹ì´ ë°œë³‘ë¥ **: ì—°ë ¹ë³„ ìœ„í—˜ë„ í‰ê°€
- **ëˆ„ì  ë°œìƒ**: ìœ í–‰ì˜ ì „ì²´ ê·œëª¨ íŒŒì•…

#### ğŸ“ˆ ì—­í•™ ê·¸ë˜í”„
- **ìœ í–‰ê³¡ì„ **: ë°œë³‘ ì‹œì ì˜ ì‹œê°„ì  ë¶„í¬
- **ì‹œê³„ì—´ ê·¸ë˜í”„**: ì¥ê¸° ì¶”ì„¸ ë¶„ì„
- **ì§€ì—­ë³„ ë¹„êµ**: ê³µê°„ì  ë¶„í¬ íŒŒì•…
- **ì—°ë ¹ í”¼ë¼ë¯¸ë“œ**: ì—°ë ¹ë³„ ìœ„í—˜ë„ ì‹œê°í™”

#### ğŸ¨ ì‹œê°í™” ê¸°ë²•
- geom_col() - ìœ í–‰ê³¡ì„ 
- geom_line() + geom_smooth() - ì‹œê³„ì—´ ë¶„ì„
- facet_wrap() - ë‹¤ì¤‘ ì§€ì—­/ì‹œê¸° ë¹„êµ
- scale_fill_gradient() - ë°œë³‘ë¥  ê·¸ë¼ë°ì´ì…˜
- geom_tile() - íˆíŠ¸ë§µ

#### ğŸ” ì—­í•™ì  í•´ì„
- ì ì› ë…¸ì¶œ vs ì§€ì† ë…¸ì¶œ íŒ¨í„´ êµ¬ë¶„
- ê³„ì ˆì„± íŒ¨í„´ ì¸ì‹
- ì¸êµ¬ ë³´ì •ì˜ ì¤‘ìš”ì„±
- ê³ ìœ„í—˜êµ° ì‹ë³„

### ë‹¤ìŒ í•™ìŠµ ë‹¨ê³„:

âœ… **Part III: ì„ìƒí†µê³„í¸** - ìƒì¡´ ë¶„ì„, ë©”íƒ€ ë¶„ì„, ì„ìƒì‹œí—˜ ê·¸ë˜í”„

âœ… **Part IV: ê³ ê¸‰í¸** - ê³µê°„ ë°ì´í„° (ì§€ë„), Shiny ëŒ€ì‹œë³´ë“œ

### ì¶”ì²œ í•™ìŠµ ìë£Œ:

ğŸ“– **Epi R Handbook**: https://epirhandbook.com/
ğŸ“– **CDC Field Epidemiology Manual**: https://www.cdc.gov/
ğŸ“– **WHO Outbreak Toolkit**: https://www.who.int/

---

## ğŸ† í•™ìŠµ ê²°ê³¼ í™•ì¸

<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; border-radius: 15px; color: white; text-align: center; margin: 20px 0;">

<h3 style="margin: 0 0 20px 0;">ğŸ“Š Part II: ì—­í•™ ë°ì´í„° ì‹œê°í™”</h3>

<div style="display: flex; justify-content: center; gap: 30px; flex-wrap: wrap;">
  <div style="background: rgba(255,255,255,0.2); padding: 20px 30px; border-radius: 10px;">
    <p style="margin: 0; font-size: 0.9em;">ì •ë‹µ ìˆ˜</p>
    <p style="margin: 5px 0 0 0; font-size: 2em; font-weight: bold;" id="correct-count">0</p>
  </div>
  <div style="background: rgba(255,255,255,0.2); padding: 20px 30px; border-radius: 10px;">
    <p style="margin: 0; font-size: 0.9em;">ì´ í€´ì¦ˆ</p>
    <p style="margin: 5px 0 0 0; font-size: 2em; font-weight: bold;" id="total-count">0</p>
  </div>
  <div style="background: rgba(255,255,255,0.2); padding: 20px 30px; border-radius: 10px;">
    <p style="margin: 0; font-size: 0.9em;">ì ìˆ˜</p>
    <p style="margin: 5px 0 0 0; font-size: 2em; font-weight: bold;" id="score-percent">0%</p>
  </div>
</div>

<hr style="border-color: rgba(255,255,255,0.3); margin: 20px 0;">
<p style="margin: 0; font-size: 0.9em;">â€» í€´ì¦ˆë¥¼ í’€ë©´ ìë™ìœ¼ë¡œ ì ìˆ˜ê°€ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤</p>
<button onclick="updateScore()" style="margin-top: 15px; padding: 10px 20px; border: none; border-radius: 20px; background: white; color: #667eea; font-weight: bold; cursor: pointer;">ğŸ”„ ì ìˆ˜ ìƒˆë¡œê³ ì¹¨</button>
</div>

<script>
function updateScore() {
  var correct = document.querySelectorAll('.correct').length;
  var incorrect = document.querySelectorAll('.incorrect').length;
  var total = correct + incorrect;

  document.getElementById('correct-count').innerText = correct;
  document.getElementById('total-count').innerText = total;

  var percent = total > 0 ? Math.round((correct / total) * 100) : 0;
  document.getElementById('score-percent').innerText = percent + '%';
}

setInterval(updateScore, 3000);
</script>

---

**ì¶•í•˜í•©ë‹ˆë‹¤! Part II ì—­í•™í¸ì„ ì™„ë£Œí•˜ì…¨ìŠµë‹ˆë‹¤!** ğŸŠ
